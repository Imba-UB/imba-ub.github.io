import{m as qe,r as w,R as rn,c as pe,S as on,u as _n,T as gn,a as sn,F as wn,b as En,d as Nn,e as Un,f as Ln,t as Pn,H as An,I as un,P as dn,g as Bn,B as ln,n as jn,h as ee,i as Fn,j as K,G as $n,k as Tn,l as kn,o as yn,p as Kn,q as Dn}from"./index-61db5c33.js";import{I as zn,a as Mn}from"./sticker_smile_outline_28-04f5e63e.js";var Gn=qe("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0ZM4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0),Yn=qe("Icon16SearchOutline","search_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="search_outline_16"><path fill="currentColor" d="M6.5 1a5.5 5.5 0 0 1 4.383 8.823l3.896 3.9a.75.75 0 0 1-1.061 1.06l-3.895-3.9A5.5 5.5 0 1 1 6.5 1zm0 1.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" /></symbol>',16,16,!1,void 0),Hn=qe("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536L12 13.698Z" /></symbol>',24,24,!1,void 0),Vn=qe("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536L12 10.302Z" /></symbol>',24,24,!1,void 0);const qn="_ButtonGroup_o6uws_1",Jn="_ButtonGroup_o6uws_1",Wn="_ButtonGroup--stretched_o6uws_6",Zn="_ButtonGroup--mode-vertical_o6uws_11",Qn="_ButtonGroup--mode-horizontal_o6uws_15",Xn="_ButtonGroup--gap-space_o6uws_29",xn="_ButtonGroup--gap-s_o6uws_29",et="_ButtonGroup--gap-m_o6uws_37",nt="_ButtonGroup--align-left_o6uws_69",tt="_ButtonGroup--align-center_o6uws_73",rt="_ButtonGroup--align-right_o6uws_77",oe={ButtonGroup:qn,buttonGroup:Jn,"ButtonGroup--stretched":"_ButtonGroup--stretched_o6uws_6",buttonGroupStretched:Wn,"ButtonGroup--mode-vertical":"_ButtonGroup--mode-vertical_o6uws_11",buttonGroupModeVertical:Zn,"ButtonGroup--mode-horizontal":"_ButtonGroup--mode-horizontal_o6uws_15",buttonGroupModeHorizontal:Qn,"ButtonGroup--gap-space":"_ButtonGroup--gap-space_o6uws_29",buttonGroupGapSpace:Xn,"ButtonGroup--gap-s":"_ButtonGroup--gap-s_o6uws_29",buttonGroupGapS:xn,"ButtonGroup--gap-m":"_ButtonGroup--gap-m_o6uws_37",buttonGroupGapM:et,"ButtonGroup--align-left":"_ButtonGroup--align-left_o6uws_69",buttonGroupAlignLeft:nt,"ButtonGroup--align-center":"_ButtonGroup--align-center_o6uws_73",buttonGroupAlignCenter:tt,"ButtonGroup--align-right":"_ButtonGroup--align-right_o6uws_77",buttonGroupAlignRight:rt},it={vertical:oe["ButtonGroup--mode-vertical"],horizontal:oe["ButtonGroup--mode-horizontal"]},ot={space:oe["ButtonGroup--gap-space"],s:oe["ButtonGroup--gap-s"],m:oe["ButtonGroup--gap-m"]},lt={left:oe["ButtonGroup--align-left"],center:oe["ButtonGroup--align-center"],right:oe["ButtonGroup--align-right"]},ct=({mode:t="horizontal",gap:v="m",stretched:m=!1,align:T="left",...d})=>w.createElement(rn,{baseClassName:pe(oe.ButtonGroup,it[t],v!=="none"&&ot[v],m&&oe["ButtonGroup--stretched"],lt[T]),role:"group",...d}),at="_RichCellIcon_12ec3_1",st="_RichCellIcon_12ec3_1",ut={RichCellIcon:at,richCellIcon:st},dt=t=>w.createElement(rn,{baseClassName:ut.RichCellIcon,...t}),Tt="_RichCell_hl7x9_1",pt="_RichCell_hl7x9_1",ft="_RichCell--sizeY-compact_hl7x9_11",_t="_RichCell--sizeY-none_hl7x9_16",yt="_RichCell__before_hl7x9_21",mt="_RichCell__before_hl7x9_21",ht="_RichCell__in_hl7x9_25",St="_RichCell__in_hl7x9_25",bt="_RichCell__content_hl7x9_34",Ct="_RichCell__content_hl7x9_34",It="_RichCell__content-before_hl7x9_39",vt="_RichCell__content-after_hl7x9_44",Rt="_RichCell__after-children_hl7x9_53",Ot="_RichCell__after-caption_hl7x9_57",gt="_RichCell__subhead_hl7x9_76",wt="_RichCell__subhead_hl7x9_76",Et="_RichCell__caption_hl7x9_80",Nt="_RichCell__caption_hl7x9_80",Ut="_RichCell__children_hl7x9_85",Lt="_RichCell__children_hl7x9_85",Pt="_RichCell--text-ellipsis_hl7x9_89",At="_RichCell__text_hl7x9_91",Bt="_RichCell__text_hl7x9_91",jt="_RichCell__bottom_hl7x9_99",Ft="_RichCell__bottom_hl7x9_99",$t="_RichCell__actions_hl7x9_103",kt="_RichCell__actions_hl7x9_103",V={RichCell:Tt,richCell:pt,"RichCell--sizeY-compact":"_RichCell--sizeY-compact_hl7x9_11",richCellSizeYCompact:ft,"RichCell--sizeY-none":"_RichCell--sizeY-none_hl7x9_16",richCellSizeYNone:_t,RichCell__before:yt,richCellBefore:mt,RichCell__in:ht,richCellIn:St,RichCell__content:bt,richCellContent:Ct,"RichCell__content-before":"_RichCell__content-before_hl7x9_39",richCellContentBefore:It,"RichCell__content-after":"_RichCell__content-after_hl7x9_44",richCellContentAfter:vt,"RichCell__after-children":"_RichCell__after-children_hl7x9_53",richCellAfterChildren:Rt,"RichCell__after-caption":"_RichCell__after-caption_hl7x9_57",richCellAfterCaption:Ot,RichCell__subhead:gt,richCellSubhead:wt,RichCell__caption:Et,richCellCaption:Nt,RichCell__children:Ut,richCellChildren:Lt,"RichCell--text-ellipsis":"_RichCell--text-ellipsis_hl7x9_89",richCellTextEllipsis:Pt,RichCell__text:At,richCellText:Bt,RichCell__bottom:jt,richCellBottom:Ft,RichCell__actions:$t,richCellActions:kt},Kt={none:V["RichCell--sizeY-none"],[on.COMPACT]:V["RichCell--sizeY-compact"]},mn=({subhead:t,children:v,text:m,caption:T,before:d,after:E,afterCaption:o,bottom:G,actions:B,multiline:u,className:D,...h})=>{const{sizeY:re="none"}=_n();return w.createElement(gn,{...h,className:pe(V.RichCell,!u&&V["RichCell--text-ellipsis"],re!==on.REGULAR&&Kt[re],D)},d&&w.createElement("div",{className:V.RichCell__before},d),w.createElement("div",{className:V.RichCell__in},w.createElement("div",{className:V.RichCell__content},w.createElement("div",{className:V["RichCell__content-before"]},t&&w.createElement(sn,{Component:"div",className:V.RichCell__subhead},t),w.createElement("div",{className:V.RichCell__children},v),m&&w.createElement("div",{className:V.RichCell__text},m),T&&w.createElement(sn,{Component:"div",className:V.RichCell__caption},T)),(E||o)&&w.createElement("div",{className:V["RichCell__content-after"]},E&&w.createElement("div",{className:V["RichCell__after-children"]},E),o&&w.createElement("div",{className:V["RichCell__after-caption"]},o))),G&&w.createElement("div",{className:V.RichCell__bottom},G),B&&w.createElement("div",{className:V.RichCell__actions},B)))};mn.Icon=dt;const Dt="_Footer_v6qjz_1",zt="_Footer_v6qjz_1",Mt={Footer:Dt,footer:zt},Gt=({children:t,className:v,...m})=>w.createElement(wn,{Component:"footer",...m,className:pe(Mt.Footer,v)},t),Yt="_Search_1k1ci_1",Ht="_Search_1k1ci_1",Vt="_Search--withPadding_1k1ci_9",qt="_Search--sizeY-compact_1k1ci_17",Jt="_Search--sizeY-none_1k1ci_22",Wt="_Search__field_1k1ci_27",Zt="_Search__field_1k1ci_27",Qt="_Search__control_1k1ci_48",Xt="_Search__control_1k1ci_48",xt="_Search__input_1k1ci_59",er="_Search__input_1k1ci_59",nr="_Search--has-after_1k1ci_94",tr="_Search--has-value_1k1ci_99",rr="_Search--has-icon_1k1ci_100",ir="_Search--disabled_1k1ci_108",or="_Search__icons_1k1ci_158",lr="_Search__icons_1k1ci_158",cr="_Search__icon_1k1ci_158",ar="_Search__icon_1k1ci_158",sr="_Search__after_1k1ci_180",ur="_Search__after_1k1ci_180",dr="_Search--focused_1k1ci_196",Tr="_Search__afterText_1k1ci_203",pr="_Search__afterText_1k1ci_203",fr="_Group--mode-plain_1k1ci_210",H={Search:Yt,search:Ht,"Search--withPadding":"_Search--withPadding_1k1ci_9",searchWithPadding:Vt,"Search--sizeY-compact":"_Search--sizeY-compact_1k1ci_17",searchSizeYCompact:qt,"Search--sizeY-none":"_Search--sizeY-none_1k1ci_22",searchSizeYNone:Jt,Search__field:Wt,searchField:Zt,Search__control:Qt,searchControl:Xt,Search__input:xt,searchInput:er,"Search--has-after":"_Search--has-after_1k1ci_94",searchHasAfter:nr,"Search--has-value":"_Search--has-value_1k1ci_99",searchHasValue:tr,"Search--has-icon":"_Search--has-icon_1k1ci_100",searchHasIcon:rr,"Search--disabled":"_Search--disabled_1k1ci_108",searchDisabled:ir,Search__icons:or,searchIcons:lr,Search__icon:cr,searchIcon:ar,Search__after:sr,searchAfter:ur,"Search--focused":"_Search--focused_1k1ci_196",searchFocused:dr,Search__afterText:Tr,searchAfterText:pr,"Group--mode-plain":"_Group--mode-plain_1k1ci_210",groupModePlain:fr},_r=({before:t=w.createElement(Yn,null),className:v,defaultValue:m="",placeholder:T="Поиск",after:d="Отмена",getRef:E,icon:o,onIconClick:G=jn,style:B,autoComplete:u="off",onChange:D,value:h,iconAriaLabel:re,clearAriaLabel:Q="Очистить",noPadding:ie,getRootRef:fe,...le})=>{const X=En(E),{value:Ce,setTrue:_e,setFalse:ae}=Nn(!1),[Z,Ie]=Un({defaultValue:m,onChange:D,value:h}),{sizeY:ce="none"}=_n(),ve=Ln(),se=W=>{_e(),le.onFocus&&le.onFocus(W)},je=W=>{ae(),le.onBlur&&le.onBlur(W)},ne=w.useCallback(()=>{var Oe,ge;const W=(Oe=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))==null?void 0:Oe.set;W==null||W.call(X.current,"");const ye=new Event("input",{bubbles:!0});(ge=X.current)==null||ge.dispatchEvent(ye)},[X]),Re=w.useCallback(W=>G(W.originalEvent),[G]),Fe=w.useCallback(W=>{var ye;W.originalEvent.preventDefault(),(ye=X.current)==null||ye.focus(),Pn()&&ne()},[X,ne]);return w.createElement("div",{className:pe("vkuiInternalSearch",H.Search,ce==="none"&&H["Search--sizeY-none"],ce===on.COMPACT&&H["Search--sizeY-compact"],Ce&&H["Search--focused"],Z&&H["Search--has-value"],d&&H["Search--has-after"],o&&H["Search--has-icon"],le.disabled&&H["Search--disabled"],!ie&&H["Search--withPadding"],v),ref:fe,style:B},w.createElement("div",{className:H.Search__field},w.createElement("label",{className:H.Search__control},t,w.createElement(An,{Component:"input",type:"search",level:"1",weight:"3",...le,placeholder:T,autoComplete:u,getRootRef:X,className:H.Search__input,onFocus:se,onBlur:je,onChange:Ie,value:Z})),w.createElement("div",{className:H.Search__icons},o&&w.createElement(un,{hoverMode:"opacity",onStart:Re,className:H.Search__icon,onFocus:_e,onBlur:ae,"aria-label":re},o),!!Z&&w.createElement(un,{hoverMode:"opacity",onStart:Fe,onClick:ne,className:H.Search__icon,"aria-label":Q},ve===dn.IOS?w.createElement(Gn,null):w.createElement(Bn,null)))),ve===dn.IOS&&d&&w.createElement(ln,{mode:"tertiary",size:"m",className:H.Search__after,focusVisibleMode:"inside",onClick:ne,onFocus:_e,onBlur:ae},w.createElement("span",{className:H.Search__afterText},d)))},yr="_AccordionSummary_4zehr_2",mr="_AccordionSummary_4zehr_2",hr="_AccordionSummary__icon_4zehr_5",Sr="_AccordionSummary__icon_4zehr_5",br="_Accordion_4zehr_2",Cr="_Accordion_4zehr_2",Ir="_AccordionSummary__icon--collapse_4zehr_8",vr="_AccordionSummary__icon--expand_4zehr_11",Se={AccordionSummary:yr,accordionSummary:mr,AccordionSummary__icon:hr,accordionSummaryIcon:Sr,Accordion:br,accordion:Cr,"AccordionSummary__icon--collapse":"_AccordionSummary__icon--collapse_4zehr_8",accordionSummaryIconCollapse:Ir,"AccordionSummary__icon--expand":"_AccordionSummary__icon--expand_4zehr_11",accordionSummaryIconExpand:vr},Rr=({className:t,after:v,before:m,ExpandIcon:T=Hn,CollapseIcon:d=Vn,iconPosition:E="after",children:o,...G})=>{const B=ee.createElement("span",{className:"vkuiIcon"},ee.createElement(T,{className:pe(Se.AccordionSummary__icon,Se["AccordionSummary__icon--expand"])}),ee.createElement(d,{className:pe(Se.AccordionSummary__icon,Se["AccordionSummary__icon--collapse"])}));return ee.createElement(Fn,{className:pe(Se.AccordionSummary,t),Component:"summary",before:ee.createElement(ee.Fragment,null,E==="before"&&B,m),after:ee.createElement(ee.Fragment,null,v,E==="after"&&B),...G},o)},nn=t=>w.createElement(rn,{Component:"details",baseClassName:Se.Accordion,...t});nn.Summary=Rr;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tn=function(t,v){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,T){m.__proto__=T}||function(m,T){for(var d in T)T.hasOwnProperty(d)&&(m[d]=T[d])},tn(t,v)};function Or(t,v){tn(t,v);function m(){this.constructor=t}t.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}var Be=function(){return Be=Object.assign||function(v){for(var m,T=1,d=arguments.length;T<d;T++){m=arguments[T];for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&(v[E]=m[E])}return v},Be.apply(this,arguments)};function gr(t,v,m,T){var d,E=!1,o=0;function G(){d&&clearTimeout(d)}function B(){G(),E=!0}typeof v!="boolean"&&(T=m,m=v,v=void 0);function u(){var D=this,h=Date.now()-o,re=arguments;if(E)return;function Q(){o=Date.now(),m.apply(D,re)}function ie(){d=void 0}T&&!d&&Q(),G(),T===void 0&&h>t?Q():v!==!0&&(d=setTimeout(T?ie:Q,T===void 0?t-h:t))}return u.cancel=B,u}var be={Pixel:"Pixel",Percent:"Percent"},pn={unit:be.Percent,value:.8};function fn(t){return typeof t=="number"?{unit:be.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:be.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:be.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),pn):(console.warn("scrollThreshold should be string or number"),pn)}var wr=function(t){Or(v,t);function v(m){var T=t.call(this,m)||this;return T.lastScrollTop=0,T.actionTriggered=!1,T.startY=0,T.currentY=0,T.dragging=!1,T.maxPullDownDistance=0,T.getScrollableTarget=function(){return T.props.scrollableTarget instanceof HTMLElement?T.props.scrollableTarget:typeof T.props.scrollableTarget=="string"?document.getElementById(T.props.scrollableTarget):(T.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},T.onStart=function(d){T.lastScrollTop||(T.dragging=!0,d instanceof MouseEvent?T.startY=d.pageY:d instanceof TouchEvent&&(T.startY=d.touches[0].pageY),T.currentY=T.startY,T._infScroll&&(T._infScroll.style.willChange="transform",T._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},T.onMove=function(d){T.dragging&&(d instanceof MouseEvent?T.currentY=d.pageY:d instanceof TouchEvent&&(T.currentY=d.touches[0].pageY),!(T.currentY<T.startY)&&(T.currentY-T.startY>=Number(T.props.pullDownToRefreshThreshold)&&T.setState({pullToRefreshThresholdBreached:!0}),!(T.currentY-T.startY>T.maxPullDownDistance*1.5)&&T._infScroll&&(T._infScroll.style.overflow="visible",T._infScroll.style.transform="translate3d(0px, "+(T.currentY-T.startY)+"px, 0px)")))},T.onEnd=function(){T.startY=0,T.currentY=0,T.dragging=!1,T.state.pullToRefreshThresholdBreached&&(T.props.refreshFunction&&T.props.refreshFunction(),T.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){T._infScroll&&(T._infScroll.style.overflow="auto",T._infScroll.style.transform="none",T._infScroll.style.willChange="unset")})},T.onScrollListener=function(d){typeof T.props.onScroll=="function"&&setTimeout(function(){return T.props.onScroll&&T.props.onScroll(d)},0);var E=T.props.height||T._scrollableNode?d.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!T.actionTriggered){var o=T.props.inverse?T.isElementAtTop(E,T.props.scrollThreshold):T.isElementAtBottom(E,T.props.scrollThreshold);o&&T.props.hasMore&&(T.actionTriggered=!0,T.setState({showLoader:!0}),T.props.next&&T.props.next()),T.lastScrollTop=E.scrollTop}},T.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:m.dataLength},T.throttledOnScrollListener=gr(150,T.onScrollListener).bind(T),T.onStart=T.onStart.bind(T),T.onMove=T.onMove.bind(T),T.onEnd=T.onEnd.bind(T),T}return v.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},v.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},v.prototype.componentDidUpdate=function(m){this.props.dataLength!==m.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},v.getDerivedStateFromProps=function(m,T){var d=m.dataLength!==T.prevDataLength;return d?Be(Be({},T),{prevDataLength:m.dataLength}):null},v.prototype.isElementAtTop=function(m,T){T===void 0&&(T=.8);var d=m===document.body||m===document.documentElement?window.screen.availHeight:m.clientHeight,E=fn(T);return E.unit===be.Pixel?m.scrollTop<=E.value+d-m.scrollHeight+1:m.scrollTop<=E.value/100+d-m.scrollHeight+1},v.prototype.isElementAtBottom=function(m,T){T===void 0&&(T=.8);var d=m===document.body||m===document.documentElement?window.screen.availHeight:m.clientHeight,E=fn(T);return E.unit===be.Pixel?m.scrollTop+d>=m.scrollHeight-E.value:m.scrollTop+d>=E.value/100*m.scrollHeight},v.prototype.render=function(){var m=this,T=Be({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),d=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),E=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ee.createElement("div",{style:E,className:"infinite-scroll-component__outerdiv"},ee.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return m._infScroll=o},style:T},this.props.pullDownToRefresh&&ee.createElement("div",{style:{position:"relative"},ref:function(o){return m._pullDown=o}},ee.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!d&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},v}(w.Component),g={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.JsonType=t.JavaScriptTypeBuilder=t.JsonTypeBuilder=t.TypeBuilder=t.TypeBuilderError=t.TransformEncodeBuilder=t.TransformDecodeBuilder=t.TemplateLiteralDslParser=t.TemplateLiteralGenerator=t.TemplateLiteralGeneratorError=t.TemplateLiteralFinite=t.TemplateLiteralFiniteError=t.TemplateLiteralParser=t.TemplateLiteralParserError=t.TemplateLiteralResolver=t.TemplateLiteralPattern=t.TemplateLiteralPatternError=t.UnionResolver=t.KeyArrayResolver=t.KeyArrayResolverError=t.KeyResolver=t.ObjectMap=t.Intrinsic=t.IndexedAccessor=t.TypeClone=t.TypeExtends=t.TypeExtendsResult=t.TypeExtendsError=t.ExtendsUndefined=t.TypeGuard=t.TypeGuardUnknownTypeError=t.ValueGuard=t.FormatRegistry=t.TypeBoxError=t.TypeRegistry=t.PatternStringExact=t.PatternNumberExact=t.PatternBooleanExact=t.PatternString=t.PatternNumber=t.PatternBoolean=t.Kind=t.Hint=t.Optional=t.Readonly=t.Transform=void 0,t.Transform=Symbol.for("TypeBox.Transform"),t.Readonly=Symbol.for("TypeBox.Readonly"),t.Optional=Symbol.for("TypeBox.Optional"),t.Hint=Symbol.for("TypeBox.Hint"),t.Kind=Symbol.for("TypeBox.Kind"),t.PatternBoolean="(true|false)",t.PatternNumber="(0|[1-9][0-9]*)",t.PatternString="(.*)",t.PatternBooleanExact=`^${t.PatternBoolean}$`,t.PatternNumberExact=`^${t.PatternNumber}$`,t.PatternStringExact=`^${t.PatternString}$`;var v;(function(f){const i=new Map;function l(){return new Map(i)}f.Entries=l;function a(){return i.clear()}f.Clear=a;function p(I){return i.delete(I)}f.Delete=p;function s(I){return i.has(I)}f.Has=s;function c(I,S){i.set(I,S)}f.Set=c;function y(I){return i.get(I)}f.Get=y})(v||(t.TypeRegistry=v={}));class m extends Error{constructor(i){super(i)}}t.TypeBoxError=m;var T;(function(f){const i=new Map;function l(){return new Map(i)}f.Entries=l;function a(){return i.clear()}f.Clear=a;function p(I){return i.delete(I)}f.Delete=p;function s(I){return i.has(I)}f.Has=s;function c(I,S){i.set(I,S)}f.Set=c;function y(I){return i.get(I)}f.Get=y})(T||(t.FormatRegistry=T={}));var d;(function(f){function i(S){return Array.isArray(S)}f.IsArray=i;function l(S){return typeof S=="bigint"}f.IsBigInt=l;function a(S){return typeof S=="boolean"}f.IsBoolean=a;function p(S){return S===null}f.IsNull=p;function s(S){return typeof S=="number"}f.IsNumber=s;function c(S){return typeof S=="object"&&S!==null}f.IsObject=c;function y(S){return typeof S=="string"}f.IsString=y;function I(S){return S===void 0}f.IsUndefined=I})(d||(t.ValueGuard=d={}));class E extends m{}t.TypeGuardUnknownTypeError=E;var o;(function(f){function i(r){try{return new RegExp(r),!0}catch{return!1}}function l(r){if(!d.IsString(r))return!1;for(let F=0;F<r.length;F++){const x=r.charCodeAt(F);if(x>=7&&x<=13||x===27||x===127)return!1}return!0}function a(r){return c(r)||M(r)}function p(r){return d.IsUndefined(r)||d.IsBigInt(r)}function s(r){return d.IsUndefined(r)||d.IsNumber(r)}function c(r){return d.IsUndefined(r)||d.IsBoolean(r)}function y(r){return d.IsUndefined(r)||d.IsString(r)}function I(r){return d.IsUndefined(r)||d.IsString(r)&&l(r)&&i(r)}function S(r){return d.IsUndefined(r)||d.IsString(r)&&l(r)}function b(r){return d.IsUndefined(r)||M(r)}function R(r){return N(r,"Any")&&y(r.$id)}f.TAny=R;function $(r){return N(r,"Array")&&r.type==="array"&&y(r.$id)&&M(r.items)&&s(r.minItems)&&s(r.maxItems)&&c(r.uniqueItems)&&b(r.contains)&&s(r.minContains)&&s(r.maxContains)}f.TArray=$;function _(r){return N(r,"AsyncIterator")&&r.type==="AsyncIterator"&&y(r.$id)&&M(r.items)}f.TAsyncIterator=_;function C(r){return N(r,"BigInt")&&r.type==="bigint"&&y(r.$id)&&p(r.exclusiveMaximum)&&p(r.exclusiveMinimum)&&p(r.maximum)&&p(r.minimum)&&p(r.multipleOf)}f.TBigInt=C;function O(r){return N(r,"Boolean")&&r.type==="boolean"&&y(r.$id)}f.TBoolean=O;function U(r){return N(r,"Constructor")&&r.type==="Constructor"&&y(r.$id)&&d.IsArray(r.parameters)&&r.parameters.every(F=>M(F))&&M(r.returns)}f.TConstructor=U;function P(r){return N(r,"Date")&&r.type==="Date"&&y(r.$id)&&s(r.exclusiveMaximumTimestamp)&&s(r.exclusiveMinimumTimestamp)&&s(r.maximumTimestamp)&&s(r.minimumTimestamp)&&s(r.multipleOfTimestamp)}f.TDate=P;function L(r){return N(r,"Function")&&r.type==="Function"&&y(r.$id)&&d.IsArray(r.parameters)&&r.parameters.every(F=>M(F))&&M(r.returns)}f.TFunction=L;function k(r){return N(r,"Integer")&&r.type==="integer"&&y(r.$id)&&s(r.exclusiveMaximum)&&s(r.exclusiveMinimum)&&s(r.maximum)&&s(r.minimum)&&s(r.multipleOf)}f.TInteger=k;function q(r){return N(r,"Intersect")&&!(d.IsString(r.type)&&r.type!=="object")&&d.IsArray(r.allOf)&&r.allOf.every(F=>M(F)&&!Pe(F))&&y(r.type)&&(c(r.unevaluatedProperties)||b(r.unevaluatedProperties))&&y(r.$id)}f.TIntersect=q;function $e(r){return N(r,"Iterator")&&r.type==="Iterator"&&y(r.$id)&&M(r.items)}f.TIterator=$e;function N(r,F){return we(r)&&r[t.Kind]===F}f.TKindOf=N;function we(r){return d.IsObject(r)&&t.Kind in r&&d.IsString(r[t.Kind])}f.TKind=we;function Ee(r){return ue(r)&&d.IsString(r.const)}f.TLiteralString=Ee;function ke(r){return ue(r)&&d.IsNumber(r.const)}f.TLiteralNumber=ke;function We(r){return ue(r)&&d.IsBoolean(r.const)}f.TLiteralBoolean=We;function ue(r){return N(r,"Literal")&&y(r.$id)&&(d.IsBoolean(r.const)||d.IsNumber(r.const)||d.IsString(r.const))}f.TLiteral=ue;function Ke(r){return N(r,"Never")&&d.IsObject(r.not)&&Object.getOwnPropertyNames(r.not).length===0}f.TNever=Ke;function Y(r){return N(r,"Not")&&M(r.not)}f.TNot=Y;function Ne(r){return N(r,"Null")&&r.type==="null"&&y(r.$id)}f.TNull=Ne;function Ue(r){return N(r,"Number")&&r.type==="number"&&y(r.$id)&&s(r.exclusiveMaximum)&&s(r.exclusiveMinimum)&&s(r.maximum)&&s(r.minimum)&&s(r.multipleOf)}f.TNumber=Ue;function me(r){return N(r,"Object")&&r.type==="object"&&y(r.$id)&&d.IsObject(r.properties)&&a(r.additionalProperties)&&s(r.minProperties)&&s(r.maxProperties)&&Object.entries(r.properties).every(([F,x])=>l(F)&&M(x))}f.TObject=me;function Le(r){return N(r,"Promise")&&r.type==="Promise"&&y(r.$id)&&M(r.item)}f.TPromise=Le;function De(r){return N(r,"Record")&&r.type==="object"&&y(r.$id)&&a(r.additionalProperties)&&d.IsObject(r.patternProperties)&&(F=>{const x=Object.getOwnPropertyNames(F.patternProperties);return x.length===1&&i(x[0])&&d.IsObject(F.patternProperties)&&M(F.patternProperties[x[0]])})(r)}f.TRecord=De;function Ze(r){return d.IsObject(r)&&t.Hint in r&&r[t.Hint]==="Recursive"}f.TRecursive=Ze;function ze(r){return N(r,"Ref")&&y(r.$id)&&d.IsString(r.$ref)}f.TRef=ze;function Me(r){return N(r,"String")&&r.type==="string"&&y(r.$id)&&s(r.minLength)&&s(r.maxLength)&&I(r.pattern)&&S(r.format)}f.TString=Me;function Ge(r){return N(r,"Symbol")&&r.type==="symbol"&&y(r.$id)}f.TSymbol=Ge;function de(r){return N(r,"TemplateLiteral")&&r.type==="string"&&d.IsString(r.pattern)&&r.pattern[0]==="^"&&r.pattern[r.pattern.length-1]==="$"}f.TTemplateLiteral=de;function Ye(r){return N(r,"This")&&y(r.$id)&&d.IsString(r.$ref)}f.TThis=Ye;function Pe(r){return d.IsObject(r)&&t.Transform in r}f.TTransform=Pe;function z(r){return N(r,"Tuple")&&r.type==="array"&&y(r.$id)&&d.IsNumber(r.minItems)&&d.IsNumber(r.maxItems)&&r.minItems===r.maxItems&&(d.IsUndefined(r.items)&&d.IsUndefined(r.additionalItems)&&r.minItems===0||d.IsArray(r.items)&&r.items.every(F=>M(F)))}f.TTuple=z;function He(r){return N(r,"Undefined")&&r.type==="undefined"&&y(r.$id)}f.TUndefined=He;function Qe(r){return Te(r)&&r.anyOf.every(F=>Ee(F)||ke(F))}f.TUnionLiteral=Qe;function Te(r){return N(r,"Union")&&y(r.$id)&&d.IsObject(r)&&d.IsArray(r.anyOf)&&r.anyOf.every(F=>M(F))}f.TUnion=Te;function he(r){return N(r,"Uint8Array")&&r.type==="Uint8Array"&&y(r.$id)&&s(r.minByteLength)&&s(r.maxByteLength)}f.TUint8Array=he;function J(r){return N(r,"Unknown")&&y(r.$id)}f.TUnknown=J;function Ve(r){return N(r,"Unsafe")}f.TUnsafe=Ve;function Ae(r){return N(r,"Void")&&r.type==="void"&&y(r.$id)}f.TVoid=Ae;function Xe(r){return d.IsObject(r)&&r[t.Readonly]==="Readonly"}f.TReadonly=Xe;function xe(r){return d.IsObject(r)&&r[t.Optional]==="Optional"}f.TOptional=xe;function M(r){return d.IsObject(r)&&(R(r)||$(r)||O(r)||C(r)||_(r)||U(r)||P(r)||L(r)||k(r)||q(r)||$e(r)||ue(r)||Ke(r)||Y(r)||Ne(r)||Ue(r)||me(r)||Le(r)||De(r)||ze(r)||Me(r)||Ge(r)||de(r)||Ye(r)||z(r)||He(r)||Te(r)||he(r)||J(r)||Ve(r)||Ae(r)||we(r)&&v.Has(r[t.Kind]))}f.TSchema=M})(o||(t.TypeGuard=o={}));var G;(function(f){function i(l){return l[t.Kind]==="Intersect"?l.allOf.every(a=>i(a)):l[t.Kind]==="Union"?l.anyOf.some(a=>i(a)):l[t.Kind]==="Undefined"?!0:l[t.Kind]==="Not"?!i(l.not):!1}f.Check=i})(G||(t.ExtendsUndefined=G={}));class B extends m{}t.TypeExtendsError=B;var u;(function(f){f[f.Union=0]="Union",f[f.True=1]="True",f[f.False=2]="False"})(u||(t.TypeExtendsResult=u={}));var D;(function(f){function i(e){return e===u.False?e:u.True}function l(e){throw new B(e)}function a(e){return o.TNever(e)||o.TIntersect(e)||o.TUnion(e)||o.TUnknown(e)||o.TAny(e)}function p(e,n){return o.TNever(n)?N():o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TUnknown(n)?an():o.TAny(n)?s():l("StructuralRight")}function s(e,n){return u.True}function c(e,n){return o.TIntersect(n)?L(e,n):o.TUnion(n)&&n.anyOf.some(A=>o.TAny(A)||o.TUnknown(A))?u.True:o.TUnion(n)?u.Union:o.TUnknown(n)||o.TAny(n)?u.True:u.Union}function y(e,n){return o.TUnknown(e)?u.False:o.TAny(e)?u.Union:o.TNever(e)?u.True:u.False}function I(e,n){return o.TObject(n)&&de(n)?u.True:a(n)?p(e,n):o.TArray(n)?i(j(e.items,n.items)):u.False}function S(e,n){return a(n)?p(e,n):o.TAsyncIterator(n)?i(j(e.items,n.items)):u.False}function b(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TBigInt(n)?u.True:u.False}function R(e,n){return o.TLiteral(e)&&d.IsBoolean(e.const)||o.TBoolean(e)?u.True:u.False}function $(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TBoolean(n)?u.True:u.False}function _(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TConstructor(n)?e.parameters.length>n.parameters.length?u.False:e.parameters.every((A,te)=>i(j(n.parameters[te],A))===u.True)?i(j(e.returns,n.returns)):u.False:u.False}function C(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TDate(n)?u.True:u.False}function O(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TFunction(n)?e.parameters.length>n.parameters.length?u.False:e.parameters.every((A,te)=>i(j(n.parameters[te],A))===u.True)?i(j(e.returns,n.returns)):u.False:u.False}function U(e,n){return o.TLiteral(e)&&d.IsNumber(e.const)||o.TNumber(e)||o.TInteger(e)?u.True:u.False}function P(e,n){return o.TInteger(n)||o.TNumber(n)?u.True:a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):u.False}function L(e,n){return n.allOf.every(A=>j(e,A)===u.True)?u.True:u.False}function k(e,n){return e.allOf.some(A=>j(A,n)===u.True)?u.True:u.False}function q(e,n){return a(n)?p(e,n):o.TIterator(n)?i(j(e.items,n.items)):u.False}function $e(e,n){return o.TLiteral(n)&&n.const===e.const?u.True:a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TString(n)?Ae(e):o.TNumber(n)?ue(e):o.TInteger(n)?U(e):o.TBoolean(n)?R(e):u.False}function N(e,n){return u.False}function we(e,n){return u.True}function Ee(e){let[n,A]=[e,0];for(;o.TNot(n);)n=n.not,A+=1;return A%2===0?n:t.Type.Unknown()}function ke(e,n){return o.TNot(e)?j(Ee(e),n):o.TNot(n)?j(e,Ee(n)):l("Invalid fallthrough for Not")}function We(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TNull(n)?u.True:u.False}function ue(e,n){return o.TLiteralNumber(e)||o.TNumber(e)||o.TInteger(e)?u.True:u.False}function Ke(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TInteger(n)||o.TNumber(n)?u.True:u.False}function Y(e,n){return Object.getOwnPropertyNames(e.properties).length===n}function Ne(e){return de(e)}function Ue(e){return Y(e,0)||Y(e,1)&&"description"in e.properties&&o.TUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(o.TString(e.properties.description.anyOf[0])&&o.TUndefined(e.properties.description.anyOf[1])||o.TString(e.properties.description.anyOf[1])&&o.TUndefined(e.properties.description.anyOf[0]))}function me(e){return Y(e,0)}function Le(e){return Y(e,0)}function De(e){return Y(e,0)}function Ze(e){return Y(e,0)}function ze(e){return de(e)}function Me(e){const n=t.Type.Number();return Y(e,0)||Y(e,1)&&"length"in e.properties&&i(j(e.properties.length,n))===u.True}function Ge(e){return Y(e,0)}function de(e){const n=t.Type.Number();return Y(e,0)||Y(e,1)&&"length"in e.properties&&i(j(e.properties.length,n))===u.True}function Ye(e){const n=t.Type.Function([t.Type.Any()],t.Type.Any());return Y(e,0)||Y(e,1)&&"then"in e.properties&&i(j(e.properties.then,n))===u.True}function Pe(e,n){return j(e,n)===u.False||o.TOptional(e)&&!o.TOptional(n)?u.False:u.True}function z(e,n){return o.TUnknown(e)?u.False:o.TAny(e)?u.Union:o.TNever(e)||o.TLiteralString(e)&&Ne(n)||o.TLiteralNumber(e)&&me(n)||o.TLiteralBoolean(e)&&Le(n)||o.TSymbol(e)&&Ue(n)||o.TBigInt(e)&&De(n)||o.TString(e)&&Ne(n)||o.TSymbol(e)&&Ue(n)||o.TNumber(e)&&me(n)||o.TInteger(e)&&me(n)||o.TBoolean(e)&&Le(n)||o.TUint8Array(e)&&ze(n)||o.TDate(e)&&Ze(n)||o.TConstructor(e)&&Ge(n)||o.TFunction(e)&&Me(n)?u.True:o.TRecord(e)&&o.TString(Te(e))?(()=>n[t.Hint]==="Record"?u.True:u.False)():o.TRecord(e)&&o.TNumber(Te(e))?(()=>Y(n,0)?u.True:u.False)():u.False}function He(e,n){return a(n)?p(e,n):o.TRecord(n)?J(e,n):o.TObject(n)?(()=>{for(const A of Object.getOwnPropertyNames(n.properties))if(!(A in e.properties)||Pe(e.properties[A],n.properties[A])===u.False)return u.False;return u.True})():u.False}function Qe(e,n){return a(n)?p(e,n):o.TObject(n)&&Ye(n)?u.True:o.TPromise(n)?i(j(e.item,n.item)):u.False}function Te(e){return t.PatternNumberExact in e.patternProperties?t.Type.Number():t.PatternStringExact in e.patternProperties?t.Type.String():l("Unknown record key pattern")}function he(e){return t.PatternNumberExact in e.patternProperties?e.patternProperties[t.PatternNumberExact]:t.PatternStringExact in e.patternProperties?e.patternProperties[t.PatternStringExact]:l("Unable to get record value schema")}function J(e,n){const[A,te]=[Te(n),he(n)];return o.TLiteralString(e)&&o.TNumber(A)&&i(j(e,te))===u.True?u.True:o.TUint8Array(e)&&o.TNumber(A)||o.TString(e)&&o.TNumber(A)||o.TArray(e)&&o.TNumber(A)?j(e,te):o.TObject(e)?(()=>{for(const On of Object.getOwnPropertyNames(e.properties))if(Pe(te,e.properties[On])===u.False)return u.False;return u.True})():u.False}function Ve(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?j(he(e),he(n)):u.False}function Ae(e,n){return o.TLiteral(e)&&d.IsString(e.const)||o.TString(e)?u.True:u.False}function Xe(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TString(n)?u.True:u.False}function xe(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TSymbol(n)?u.True:u.False}function M(e,n){return o.TTemplateLiteral(e)?j(Z.Resolve(e),n):o.TTemplateLiteral(n)?j(e,Z.Resolve(n)):l("Invalid fallthrough for TemplateLiteral")}function r(e,n){return o.TArray(n)&&e.items!==void 0&&e.items.every(A=>j(A,n.items)===u.True)}function F(e,n){return o.TNever(e)?u.True:o.TUnknown(e)?u.False:o.TAny(e)?u.Union:u.False}function x(e,n){return a(n)?p(e,n):o.TObject(n)&&de(n)||o.TArray(n)&&r(e,n)?u.True:o.TTuple(n)?d.IsUndefined(e.items)&&!d.IsUndefined(n.items)||!d.IsUndefined(e.items)&&d.IsUndefined(n.items)?u.False:d.IsUndefined(e.items)&&!d.IsUndefined(n.items)||e.items.every((A,te)=>j(A,n.items[te])===u.True)?u.True:u.False:u.False}function hn(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TUint8Array(n)?u.True:u.False}function Sn(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?J(e,n):o.TVoid(n)?In(e):o.TUndefined(n)?u.True:u.False}function en(e,n){return n.anyOf.some(A=>j(e,A)===u.True)?u.True:u.False}function bn(e,n){return e.anyOf.every(A=>j(A,n)===u.True)?u.True:u.False}function an(e,n){return u.True}function Cn(e,n){return o.TNever(n)?N():o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TAny(n)?s():o.TString(n)?Ae(e):o.TNumber(n)?ue(e):o.TInteger(n)?U(e):o.TBoolean(n)?R(e):o.TArray(n)?y(e):o.TTuple(n)?F(e):o.TObject(n)?z(e,n):o.TUnknown(n)?u.True:u.False}function In(e,n){return o.TUndefined(e)||o.TUndefined(e)?u.True:u.False}function vn(e,n){return o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TUnknown(n)?an():o.TAny(n)?s():o.TObject(n)?z(e,n):o.TVoid(n)?u.True:u.False}function j(e,n){return o.TTemplateLiteral(e)||o.TTemplateLiteral(n)?M(e,n):o.TNot(e)||o.TNot(n)?ke(e,n):o.TAny(e)?c(e,n):o.TArray(e)?I(e,n):o.TBigInt(e)?b(e,n):o.TBoolean(e)?$(e,n):o.TAsyncIterator(e)?S(e,n):o.TConstructor(e)?_(e,n):o.TDate(e)?C(e,n):o.TFunction(e)?O(e,n):o.TInteger(e)?P(e,n):o.TIntersect(e)?k(e,n):o.TIterator(e)?q(e,n):o.TLiteral(e)?$e(e,n):o.TNever(e)?we():o.TNull(e)?We(e,n):o.TNumber(e)?Ke(e,n):o.TObject(e)?He(e,n):o.TRecord(e)?Ve(e,n):o.TString(e)?Xe(e,n):o.TSymbol(e)?xe(e,n):o.TTuple(e)?x(e,n):o.TPromise(e)?Qe(e,n):o.TUint8Array(e)?hn(e,n):o.TUndefined(e)?Sn(e,n):o.TUnion(e)?bn(e,n):o.TUnknown(e)?Cn(e,n):o.TVoid(e)?vn(e,n):l(`Unknown left type operand '${e[t.Kind]}'`)}function Rn(e,n){return j(e,n)}f.Extends=Rn})(D||(t.TypeExtends=D={}));var h;(function(f){function i(c){const y=Object.getOwnPropertyNames(c).reduce((S,b)=>({...S,[b]:a(c[b])}),{}),I=Object.getOwnPropertySymbols(c).reduce((S,b)=>({...S,[b]:a(c[b])}),{});return{...y,...I}}function l(c){return c.map(y=>a(y))}function a(c){return d.IsArray(c)?l(c):d.IsObject(c)?i(c):c}function p(c){return c.map(y=>s(y))}f.Rest=p;function s(c,y={}){return{...a(c),...y}}f.Type=s})(h||(t.TypeClone=h={}));var re;(function(f){function i(_){return _.map(C=>{const{[t.Optional]:O,...U}=h.Type(C);return U})}function l(_){return _.every(C=>o.TOptional(C))}function a(_){return _.some(C=>o.TOptional(C))}function p(_){return l(_.allOf)?t.Type.Optional(t.Type.Intersect(i(_.allOf))):_}function s(_){return a(_.anyOf)?t.Type.Optional(t.Type.Union(i(_.anyOf))):_}function c(_){return _[t.Kind]==="Intersect"?p(_):_[t.Kind]==="Union"?s(_):_}function y(_,C){const O=_.allOf.reduce((U,P)=>{const L=R(P,C);return L[t.Kind]==="Never"?U:[...U,L]},[]);return c(t.Type.Intersect(O))}function I(_,C){const O=_.anyOf.map(U=>R(U,C));return c(t.Type.Union(O))}function S(_,C){const O=_.properties[C];return d.IsUndefined(O)?t.Type.Never():t.Type.Union([O])}function b(_,C){const O=_.items;if(d.IsUndefined(O))return t.Type.Never();const U=O[C];return d.IsUndefined(U)?t.Type.Never():U}function R(_,C){return _[t.Kind]==="Intersect"?y(_,C):_[t.Kind]==="Union"?I(_,C):_[t.Kind]==="Object"?S(_,C):_[t.Kind]==="Tuple"?b(_,C):t.Type.Never()}function $(_,C,O={}){const U=C.map(P=>R(_,P.toString()));return c(t.Type.Union(U,O))}f.Resolve=$})(re||(t.IndexedAccessor=re={}));var Q;(function(f){function i(b){const[R,$]=[b.slice(0,1),b.slice(1)];return`${R.toLowerCase()}${$}`}function l(b){const[R,$]=[b.slice(0,1),b.slice(1)];return`${R.toUpperCase()}${$}`}function a(b){return b.toUpperCase()}function p(b){return b.toLowerCase()}function s(b,R){const $=ce.ParseExact(b.pattern);if(!se.Check($))return{...b,pattern:c(b.pattern,R)};const O=[...ne.Generate($)].map(L=>t.Type.Literal(L)),U=y(O,R),P=t.Type.Union(U);return t.Type.TemplateLiteral([P])}function c(b,R){return typeof b=="string"?R==="Uncapitalize"?i(b):R==="Capitalize"?l(b):R==="Uppercase"?a(b):R==="Lowercase"?p(b):b:b.toString()}function y(b,R){if(b.length===0)return[];const[$,..._]=b;return[S($,R),...y(_,R)]}function I(b,R){return o.TTemplateLiteral(b)?s(b,R):o.TUnion(b)?t.Type.Union(y(b.anyOf,R)):o.TLiteral(b)?t.Type.Literal(c(b.const,R)):b}function S(b,R){return I(b,R)}f.Map=S})(Q||(t.Intrinsic=Q={}));var ie;(function(f){function i(c,y){return t.Type.Intersect(c.allOf.map(I=>p(I,y)),{...c})}function l(c,y){return t.Type.Union(c.anyOf.map(I=>p(I,y)),{...c})}function a(c,y){return y(c)}function p(c,y){return c[t.Kind]==="Intersect"?i(c,y):c[t.Kind]==="Union"?l(c,y):c[t.Kind]==="Object"?a(c,y):c}function s(c,y,I){return{...p(h.Type(c),y),...I}}f.Map=s})(ie||(t.ObjectMap=ie={}));var fe;(function(f){function i(S){return S[0]==="^"&&S[S.length-1]==="$"?S.slice(1,S.length-1):S}function l(S,b){return S.allOf.reduce((R,$)=>[...R,...c($,b)],[])}function a(S,b){const R=S.anyOf.map($=>c($,b));return[...R.reduce(($,_)=>_.map(C=>R.every(O=>O.includes(C))?$.add(C):$)[0],new Set)]}function p(S,b){return Object.getOwnPropertyNames(S.properties)}function s(S,b){return b.includePatterns?Object.getOwnPropertyNames(S.patternProperties):[]}function c(S,b){return o.TIntersect(S)?l(S,b):o.TUnion(S)?a(S,b):o.TObject(S)?p(S):o.TRecord(S)?s(S,b):[]}function y(S,b){return[...new Set(c(S,b))]}f.ResolveKeys=y;function I(S){return`^(${y(S,{includePatterns:!0}).map($=>`(${i($)})`).join("|")})$`}f.ResolvePattern=I})(fe||(t.KeyResolver=fe={}));class le extends m{}t.KeyArrayResolverError=le;var X;(function(f){function i(l){return Array.isArray(l)?l:o.TUnionLiteral(l)?l.anyOf.map(a=>a.const.toString()):o.TLiteral(l)?[l.const]:o.TTemplateLiteral(l)?(()=>{const a=ce.ParseExact(l.pattern);if(!se.Check(a))throw new le("Cannot resolve keys from infinite template expression");return[...ne.Generate(a)]})():[]}f.Resolve=i})(X||(t.KeyArrayResolver=X={}));var Ce;(function(f){function*i(a){for(const p of a.anyOf)p[t.Kind]==="Union"?yield*i(p):yield p}function l(a){return t.Type.Union([...i(a)],{...a})}f.Resolve=l})(Ce||(t.UnionResolver=Ce={}));class _e extends m{}t.TemplateLiteralPatternError=_e;var ae;(function(f){function i(s){throw new _e(s)}function l(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(s,c){return o.TTemplateLiteral(s)?s.pattern.slice(1,s.pattern.length-1):o.TUnion(s)?`(${s.anyOf.map(y=>a(y,c)).join("|")})`:o.TNumber(s)?`${c}${t.PatternNumber}`:o.TInteger(s)?`${c}${t.PatternNumber}`:o.TBigInt(s)?`${c}${t.PatternNumber}`:o.TString(s)?`${c}${t.PatternString}`:o.TLiteral(s)?`${c}${l(s.const.toString())}`:o.TBoolean(s)?`${c}${t.PatternBoolean}`:i(`Unexpected Kind '${s[t.Kind]}'`)}function p(s){return`^${s.map(c=>a(c,"")).join("")}$`}f.Create=p})(ae||(t.TemplateLiteralPattern=ae={}));var Z;(function(f){function i(l){const a=ce.ParseExact(l.pattern);if(!se.Check(a))return t.Type.String();const p=[...ne.Generate(a)].map(s=>t.Type.Literal(s));return t.Type.Union(p)}f.Resolve=i})(Z||(t.TemplateLiteralResolver=Z={}));class Ie extends m{}t.TemplateLiteralParserError=Ie;var ce;(function(f){function i(_,C,O){return _[C]===O&&_.charCodeAt(C-1)!==92}function l(_,C){return i(_,C,"(")}function a(_,C){return i(_,C,")")}function p(_,C){return i(_,C,"|")}function s(_){if(!(l(_,0)&&a(_,_.length-1)))return!1;let C=0;for(let O=0;O<_.length;O++)if(l(_,O)&&(C+=1),a(_,O)&&(C-=1),C===0&&O!==_.length-1)return!1;return!0}function c(_){return _.slice(1,_.length-1)}function y(_){let C=0;for(let O=0;O<_.length;O++)if(l(_,O)&&(C+=1),a(_,O)&&(C-=1),p(_,O)&&C===0)return!0;return!1}function I(_){for(let C=0;C<_.length;C++)if(l(_,C))return!0;return!1}function S(_){let[C,O]=[0,0];const U=[];for(let L=0;L<_.length;L++)if(l(_,L)&&(C+=1),a(_,L)&&(C-=1),p(_,L)&&C===0){const k=_.slice(O,L);k.length>0&&U.push(R(k)),O=L+1}const P=_.slice(O);return P.length>0&&U.push(R(P)),U.length===0?{type:"const",const:""}:U.length===1?U[0]:{type:"or",expr:U}}function b(_){function C(P,L){if(!l(P,L))throw new Ie("TemplateLiteralParser: Index must point to open parens");let k=0;for(let q=L;q<P.length;q++)if(l(P,q)&&(k+=1),a(P,q)&&(k-=1),k===0)return[L,q];throw new Ie("TemplateLiteralParser: Unclosed group parens in expression")}function O(P,L){for(let k=L;k<P.length;k++)if(l(P,k))return[L,k];return[L,P.length]}const U=[];for(let P=0;P<_.length;P++)if(l(_,P)){const[L,k]=C(_,P),q=_.slice(L,k+1);U.push(R(q)),P=k}else{const[L,k]=O(_,P),q=_.slice(L,k);q.length>0&&U.push(R(q)),P=k-1}return U.length===0?{type:"const",const:""}:U.length===1?U[0]:{type:"and",expr:U}}function R(_){return s(_)?R(c(_)):y(_)?S(_):I(_)?b(_):{type:"const",const:_}}f.Parse=R;function $(_){return R(_.slice(1,_.length-1))}f.ParseExact=$})(ce||(t.TemplateLiteralParser=ce={}));class ve extends m{}t.TemplateLiteralFiniteError=ve;var se;(function(f){function i(c){throw new ve(c)}function l(c){return c.type==="or"&&c.expr.length===2&&c.expr[0].type==="const"&&c.expr[0].const==="0"&&c.expr[1].type==="const"&&c.expr[1].const==="[1-9][0-9]*"}function a(c){return c.type==="or"&&c.expr.length===2&&c.expr[0].type==="const"&&c.expr[0].const==="true"&&c.expr[1].type==="const"&&c.expr[1].const==="false"}function p(c){return c.type==="const"&&c.const===".*"}function s(c){return a(c)?!0:l(c)||p(c)?!1:c.type==="and"?c.expr.every(y=>s(y)):c.type==="or"?c.expr.every(y=>s(y)):c.type==="const"?!0:i("Unknown expression type")}f.Check=s})(se||(t.TemplateLiteralFinite=se={}));class je extends m{}t.TemplateLiteralGeneratorError=je;var ne;(function(f){function*i(c){if(c.length===1)return yield*c[0];for(const y of c[0])for(const I of i(c.slice(1)))yield`${y}${I}`}function*l(c){return yield*i(c.expr.map(y=>[...s(y)]))}function*a(c){for(const y of c.expr)yield*s(y)}function*p(c){return yield c.const}function*s(c){return c.type==="and"?yield*l(c):c.type==="or"?yield*a(c):c.type==="const"?yield*p(c):(()=>{throw new je("Unknown expression")})()}f.Generate=s})(ne||(t.TemplateLiteralGenerator=ne={}));var Re;(function(f){function*i(s){const c=s.trim().replace(/"|'/g,"");return c==="boolean"?yield t.Type.Boolean():c==="number"?yield t.Type.Number():c==="bigint"?yield t.Type.BigInt():c==="string"?yield t.Type.String():yield(()=>{const y=c.split("|").map(I=>t.Type.Literal(I.trim()));return y.length===0?t.Type.Never():y.length===1?y[0]:t.Type.Union(y)})()}function*l(s){if(s[1]!=="{"){const c=t.Type.Literal("$"),y=a(s.slice(1));return yield*[c,...y]}for(let c=2;c<s.length;c++)if(s[c]==="}"){const y=i(s.slice(2,c)),I=a(s.slice(c+1));return yield*[...y,...I]}yield t.Type.Literal(s)}function*a(s){for(let c=0;c<s.length;c++)if(s[c]==="$"){const y=t.Type.Literal(s.slice(0,c)),I=l(s.slice(c));return yield*[y,...I]}yield t.Type.Literal(s)}function p(s){return[...a(s)]}f.Parse=p})(Re||(t.TemplateLiteralDslParser=Re={}));class Fe{constructor(i){this.schema=i}Decode(i){return new W(this.schema,i)}}t.TransformDecodeBuilder=Fe;class W{constructor(i,l){this.schema=i,this.decode=l}Encode(i){const l=h.Type(this.schema);return o.TTransform(l)?(()=>{const s={Encode:c=>l[t.Transform].Encode(i(c)),Decode:c=>this.decode(l[t.Transform].Decode(c))};return{...l,[t.Transform]:s}})():(()=>{const a={Decode:this.decode,Encode:i};return{...l,[t.Transform]:a}})()}}t.TransformEncodeBuilder=W;let ye=0;class Oe extends m{}t.TypeBuilderError=Oe;class ge{Create(i){return i}Throw(i){throw new Oe(i)}Discard(i,l){return l.reduce((a,p)=>{const{[p]:s,...c}=a;return c},i)}Strict(i){return JSON.parse(JSON.stringify(i))}}t.TypeBuilder=ge;class Je extends ge{ReadonlyOptional(i){return this.Readonly(this.Optional(i))}Readonly(i){return{...h.Type(i),[t.Readonly]:"Readonly"}}Optional(i){return{...h.Type(i),[t.Optional]:"Optional"}}Any(i={}){return this.Create({...i,[t.Kind]:"Any"})}Array(i,l={}){return this.Create({...l,[t.Kind]:"Array",type:"array",items:h.Type(i)})}Boolean(i={}){return this.Create({...i,[t.Kind]:"Boolean",type:"boolean"})}Capitalize(i,l={}){return{...Q.Map(h.Type(i),"Capitalize"),...l}}Composite(i,l){const a=t.Type.Intersect(i,{}),s=fe.ResolveKeys(a,{includePatterns:!1}).reduce((c,y)=>({...c,[y]:t.Type.Index(a,[y])}),{});return t.Type.Object(s,l)}Enum(i,l={}){const a=Object.getOwnPropertyNames(i).filter(c=>isNaN(c)).map(c=>i[c]),s=[...new Set(a)].map(c=>t.Type.Literal(c));return this.Union(s,{...l,[t.Hint]:"Enum"})}Extends(i,l,a,p,s={}){switch(D.Extends(i,l)){case u.Union:return this.Union([h.Type(a,s),h.Type(p,s)]);case u.True:return h.Type(a,s);case u.False:return h.Type(p,s)}}Exclude(i,l,a={}){return o.TTemplateLiteral(i)?this.Exclude(Z.Resolve(i),l,a):o.TTemplateLiteral(l)?this.Exclude(i,Z.Resolve(l),a):o.TUnion(i)?(()=>{const p=i.anyOf.filter(s=>D.Extends(s,l)===u.False);return p.length===1?h.Type(p[0],a):this.Union(p,a)})():D.Extends(i,l)!==u.False?this.Never(a):h.Type(i,a)}Extract(i,l,a={}){return o.TTemplateLiteral(i)?this.Extract(Z.Resolve(i),l,a):o.TTemplateLiteral(l)?this.Extract(i,Z.Resolve(l),a):o.TUnion(i)?(()=>{const p=i.anyOf.filter(s=>D.Extends(s,l)!==u.False);return p.length===1?h.Type(p[0],a):this.Union(p,a)})():D.Extends(i,l)!==u.False?h.Type(i,a):this.Never(a)}Index(i,l,a={}){return o.TArray(i)&&o.TNumber(l)?(()=>h.Type(i.items,a))():o.TTuple(i)&&o.TNumber(l)?(()=>{const s=(d.IsUndefined(i.items)?[]:i.items).map(c=>h.Type(c));return this.Union(s,a)})():(()=>{const p=X.Resolve(l),s=h.Type(i);return re.Resolve(s,p,a)})()}Integer(i={}){return this.Create({...i,[t.Kind]:"Integer",type:"integer"})}Intersect(i,l={}){if(i.length===0)return t.Type.Never();if(i.length===1)return h.Type(i[0],l);i.some(c=>o.TTransform(c))&&this.Throw("Cannot intersect transform types");const a=i.every(c=>o.TObject(c)),p=h.Rest(i),s=o.TSchema(l.unevaluatedProperties)?{unevaluatedProperties:h.Type(l.unevaluatedProperties)}:{};return l.unevaluatedProperties===!1||o.TSchema(l.unevaluatedProperties)||a?this.Create({...l,...s,[t.Kind]:"Intersect",type:"object",allOf:p}):this.Create({...l,...s,[t.Kind]:"Intersect",allOf:p})}KeyOf(i,l={}){return o.TRecord(i)?(()=>{const a=Object.getOwnPropertyNames(i.patternProperties)[0];return a===t.PatternNumberExact?this.Number(l):a===t.PatternStringExact?this.String(l):this.Throw("Unable to resolve key type from Record key pattern")})():o.TTuple(i)?(()=>{const p=(d.IsUndefined(i.items)?[]:i.items).map((s,c)=>t.Type.Literal(c.toString()));return this.Union(p,l)})():o.TArray(i)?(()=>this.Number(l))():(()=>{const a=fe.ResolveKeys(i,{includePatterns:!1});if(a.length===0)return this.Never(l);const p=a.map(s=>this.Literal(s));return this.Union(p,l)})()}Literal(i,l={}){return this.Create({...l,[t.Kind]:"Literal",const:i,type:typeof i})}Lowercase(i,l={}){return{...Q.Map(h.Type(i),"Lowercase"),...l}}Never(i={}){return this.Create({...i,[t.Kind]:"Never",not:{}})}Not(i,l){return this.Create({...l,[t.Kind]:"Not",not:h.Type(i)})}Null(i={}){return this.Create({...i,[t.Kind]:"Null",type:"null"})}Number(i={}){return this.Create({...i,[t.Kind]:"Number",type:"number"})}Object(i,l={}){const a=Object.getOwnPropertyNames(i),p=a.filter(I=>o.TOptional(i[I])),s=a.filter(I=>!p.includes(I)),c=o.TSchema(l.additionalProperties)?{additionalProperties:h.Type(l.additionalProperties)}:{},y=a.reduce((I,S)=>({...I,[S]:h.Type(i[S])}),{});return s.length>0?this.Create({...l,...c,[t.Kind]:"Object",type:"object",properties:y,required:s}):this.Create({...l,...c,[t.Kind]:"Object",type:"object",properties:y})}Omit(i,l,a={}){const p=X.Resolve(l);return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),s=>{d.IsArray(s.required)&&(s.required=s.required.filter(c=>!p.includes(c)),s.required.length===0&&delete s.required);for(const c of Object.getOwnPropertyNames(s.properties))p.includes(c)&&delete s.properties[c];return this.Create(s)},a)}Partial(i,l={}){return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),a=>{const p=Object.getOwnPropertyNames(a.properties).reduce((s,c)=>({...s,[c]:this.Optional(a.properties[c])}),{});return this.Object(p,this.Discard(a,["required"]))},l)}Pick(i,l,a={}){const p=X.Resolve(l);return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),s=>{d.IsArray(s.required)&&(s.required=s.required.filter(c=>p.includes(c)),s.required.length===0&&delete s.required);for(const c of Object.getOwnPropertyNames(s.properties))p.includes(c)||delete s.properties[c];return this.Create(s)},a)}Record(i,l,a={}){return o.TTemplateLiteral(i)?(()=>{const p=ce.ParseExact(i.pattern);return se.Check(p)?this.Object([...ne.Generate(p)].reduce((s,c)=>({...s,[c]:h.Type(l)}),{}),a):this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[i.pattern]:h.Type(l)}})})():o.TUnion(i)?(()=>{const p=Ce.Resolve(i);if(o.TUnionLiteral(p)){const s=p.anyOf.reduce((c,y)=>({...c,[y.const]:h.Type(l)}),{});return this.Object(s,{...a,[t.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():o.TLiteral(i)?(()=>d.IsString(i.const)||d.IsNumber(i.const)?this.Object({[i.const]:h.Type(l)},a):this.Throw("Record key of type literal is not of type string or number"))():o.TInteger(i)||o.TNumber(i)?(()=>this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[t.PatternNumberExact]:h.Type(l)}}))():o.TString(i)?(()=>{const p=d.IsUndefined(i.pattern)?t.PatternStringExact:i.pattern;return this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[p]:h.Type(l)}})})():this.Never()}Recursive(i,l={}){d.IsUndefined(l.$id)&&(l.$id=`T${ye++}`);const a=i({[t.Kind]:"This",$ref:`${l.$id}`});return a.$id=l.$id,this.Create({...l,[t.Hint]:"Recursive",...a})}Ref(i,l={}){return d.IsString(i)?this.Create({...l,[t.Kind]:"Ref",$ref:i}):(d.IsUndefined(i.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...l,[t.Kind]:"Ref",$ref:i.$id}))}Required(i,l={}){return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),a=>{const p=Object.getOwnPropertyNames(a.properties).reduce((s,c)=>({...s,[c]:this.Discard(a.properties[c],[t.Optional])}),{});return this.Object(p,a)},l)}Rest(i){return o.TTuple(i)&&!d.IsUndefined(i.items)?h.Rest(i.items):o.TIntersect(i)?h.Rest(i.allOf):o.TUnion(i)?h.Rest(i.anyOf):[]}String(i={}){return this.Create({...i,[t.Kind]:"String",type:"string"})}TemplateLiteral(i,l={}){const a=d.IsString(i)?ae.Create(Re.Parse(i)):ae.Create(i);return this.Create({...l,[t.Kind]:"TemplateLiteral",type:"string",pattern:a})}Transform(i){return new Fe(i)}Tuple(i,l={}){const[a,p,s]=[!1,i.length,i.length],c=h.Rest(i),y=i.length>0?{...l,[t.Kind]:"Tuple",type:"array",items:c,additionalItems:a,minItems:p,maxItems:s}:{...l,[t.Kind]:"Tuple",type:"array",minItems:p,maxItems:s};return this.Create(y)}Uncapitalize(i,l={}){return{...Q.Map(h.Type(i),"Uncapitalize"),...l}}Union(i,l={}){return o.TTemplateLiteral(i)?Z.Resolve(i):(()=>{const a=i;if(a.length===0)return this.Never(l);if(a.length===1)return this.Create(h.Type(a[0],l));const p=h.Rest(a);return this.Create({...l,[t.Kind]:"Union",anyOf:p})})()}Unknown(i={}){return this.Create({...i,[t.Kind]:"Unknown"})}Unsafe(i={}){return this.Create({...i,[t.Kind]:i[t.Kind]||"Unsafe"})}Uppercase(i,l={}){return{...Q.Map(h.Type(i),"Uppercase"),...l}}}t.JsonTypeBuilder=Je;class cn extends Je{AsyncIterator(i,l={}){return this.Create({...l,[t.Kind]:"AsyncIterator",type:"AsyncIterator",items:h.Type(i)})}Awaited(i,l={}){const a=p=>p.length>0?(()=>{const[s,...c]=p;return[this.Awaited(s),...a(c)]})():p;return o.TIntersect(i)?t.Type.Intersect(a(i.allOf)):o.TUnion(i)?t.Type.Union(a(i.anyOf)):o.TPromise(i)?this.Awaited(i.item):h.Type(i,l)}BigInt(i={}){return this.Create({...i,[t.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(i,l={}){return this.Tuple([...i.parameters],{...l})}Constructor(i,l,a){const[p,s]=[h.Rest(i),h.Type(l)];return this.Create({...a,[t.Kind]:"Constructor",type:"Constructor",parameters:p,returns:s})}Date(i={}){return this.Create({...i,[t.Kind]:"Date",type:"Date"})}Function(i,l,a){const[p,s]=[h.Rest(i),h.Type(l)];return this.Create({...a,[t.Kind]:"Function",type:"Function",parameters:p,returns:s})}InstanceType(i,l={}){return h.Type(i.returns,l)}Iterator(i,l={}){return this.Create({...l,[t.Kind]:"Iterator",type:"Iterator",items:h.Type(i)})}Parameters(i,l={}){return this.Tuple(i.parameters,{...l})}Promise(i,l={}){return this.Create({...l,[t.Kind]:"Promise",type:"Promise",item:h.Type(i)})}RegExp(i,l={}){const a=d.IsString(i)?i:i.source;return this.Create({...l,[t.Kind]:"String",type:"string",pattern:a})}RegEx(i,l={}){return this.RegExp(i,l)}ReturnType(i,l={}){return h.Type(i.returns,l)}Symbol(i){return this.Create({...i,[t.Kind]:"Symbol",type:"symbol"})}Undefined(i={}){return this.Create({...i,[t.Kind]:"Undefined",type:"undefined"})}Uint8Array(i={}){return this.Create({...i,[t.Kind]:"Uint8Array",type:"Uint8Array"})}Void(i={}){return this.Create({...i,[t.Kind]:"Void",type:"void"})}}t.JavaScriptTypeBuilder=cn,t.JsonType=new Je,t.Type=new cn})(g);g.Type.Object({user:g.Type.Object({id:g.Type.Number(),fullName:g.Type.String(),avatar:g.Type.String()}),stickers:g.Type.Array(g.Type.Object({id:g.Type.Number(),title:g.Type.String(),description:g.Type.String(),author:g.Type.String(),thumbs:g.Type.Array(g.Type.Number()),price:g.Type.Number(),url:g.Type.String(),demoPhotosCount:g.Type.Number(),styles:g.Type.Array(g.Type.Number()),previews:g.Type.Array(g.Type.Tuple([g.Type.Number(),g.Type.Number()])),hasBackground:g.Type.Boolean(),isAnimated:g.Type.Boolean(),isNotAvailable:g.Type.Boolean()})),totalPrice:g.Type.Number(),accessKey:g.Type.String()});const Er=g.Type.Object({type:g.Type.Literal("background")}),Nr=g.Type.Object({type:g.Type.Literal("thumb"),size:g.Type.String()}),Ur=g.Type.Object({type:g.Type.Literal("preview"),width:g.Type.String(),height:g.Type.String()}),Lr=g.Type.Object({type:g.Type.Literal("demo_photo"),index:g.Type.String()});g.Type.Union([Er,Nr,Ur,Lr]);const Pr=({accessKey:t,packId:v,type:m})=>{const T=`https://dev-api.imbabot.ru/stickers/static/${v}`,d=new URLSearchParams({accessKey:t,...m});return T+`?${d.toString()}`},Ar=({pack:t,accessKey:v})=>{const[m,T]=w.useState(!1),[d,E]=w.useState(null);return w.useEffect(()=>{if(t.thumbs.length===0)return;const o=(B,u)=>{let D=B[0];for(let h=1;h<B.length;++h)Math.abs(B[h]-u)<Math.abs(D-u)&&(D=B[h]);return D},G=Pr({accessKey:v,packId:t.id,type:{type:"thumb",size:o(t.thumbs,70).toString()}});Dn.get(G,{responseType:"arraybuffer"}).then(B=>{if("error"in B.data)return;const u=btoa(String.fromCharCode(...new Uint8Array(B.data)));E(`data:image/jpeg;charset=utf-8;base64,${u}`)})},[t.thumbs]),K.jsxs(nn,{open:m,onToggle:o=>{"open"in o.target&&T(!!o.target.open&&!m)},children:[K.jsx(nn.Summary,{multiline:!0,children:t.title}),K.jsx(mn,{before:d===null?t.isAnimated?K.jsx(zn,{width:70,height:70}):K.jsx(Mn,{width:70,height:70}):K.jsx("img",{src:d}),multiline:!0,disabled:!0,caption:`Автор: ${t.author}`,actions:K.jsx(ct,{mode:"horizontal",gap:"s",stretched:!0,children:K.jsx(ln,{mode:"primary",size:"s",onClick:()=>yn.web.redirect(t.url),children:"Открыть в ВКонтакте"})}),children:t.description})]})},Fr=({stickers:t,accessKey:v})=>{const[m,T]=w.useState(""),d=w.useMemo(()=>{const B=m.toLowerCase();return t.filter(({author:u,description:D,title:h})=>!!(u.toLowerCase().includes(B)||D.toLowerCase().includes(B)||h.toLowerCase().includes(B)))},[m]),[E,o]=w.useState([]),G=()=>{o(d.slice(0,E.length+10))};return w.useEffect(()=>{o(d.slice(0,10))},[d]),K.jsxs($n,{children:[K.jsx(_r,{value:m,onChange:B=>T(B.target.value)}),K.jsxs(wr,{dataLength:E.length,next:G,hasMore:E.length!==d.length,loader:K.jsx(Tn,{withPadding:!1,children:K.jsx(kn,{size:"large"})}),scrollThreshold:.5,endMessage:K.jsxs(Gt,{children:[d.length," ",yn.string.declOfNum(d.length,["пак","пака","паков"])]}),children:[E.map((B,u)=>K.jsx(Ar,{pack:B,accessKey:v},`sticker-${u}`)),E.length!==d.length&&K.jsxs(K.Fragment,{children:[K.jsx(Kn,{size:40}),K.jsx(Tn,{withPadding:!1,action:K.jsx(ln,{size:"l",onClick:G,children:"Следующие"})})]})]})]})};export{Fr as default};
