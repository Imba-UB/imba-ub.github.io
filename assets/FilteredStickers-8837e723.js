import{m as qe,r as E,R as rn,c as pe,S as on,u as yn,T as wn,a as sn,F as En,b as Nn,d as Un,e as Ln,f as Pn,t as An,H as Bn,I as un,P as dn,g as jn,B as ln,n as Fn,h as ne,i as $n,j as Tn,k as D,G as kn,l as pn,o as Kn,p as mn,q as Dn,s as zn}from"./index-71e94d50.js";import{I as Mn,a as Gn}from"./sticker_smile_outline_28-00829960.js";var Yn=qe("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0ZM4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0),Hn=qe("Icon16SearchOutline","search_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="search_outline_16"><path fill="currentColor" d="M6.5 1a5.5 5.5 0 0 1 4.383 8.823l3.896 3.9a.75.75 0 0 1-1.061 1.06l-3.895-3.9A5.5 5.5 0 1 1 6.5 1zm0 1.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8z" /></symbol>',16,16,!1,void 0),Vn=qe("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536L12 13.698Z" /></symbol>',24,24,!1,void 0),qn=qe("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536L12 10.302Z" /></symbol>',24,24,!1,void 0);const Jn="_ButtonGroup_o6uws_1",Wn="_ButtonGroup_o6uws_1",Zn="_ButtonGroup--stretched_o6uws_6",Qn="_ButtonGroup--mode-vertical_o6uws_11",Xn="_ButtonGroup--mode-horizontal_o6uws_15",xn="_ButtonGroup--gap-space_o6uws_29",et="_ButtonGroup--gap-s_o6uws_29",nt="_ButtonGroup--gap-m_o6uws_37",tt="_ButtonGroup--align-left_o6uws_69",rt="_ButtonGroup--align-center_o6uws_73",it="_ButtonGroup--align-right_o6uws_77",oe={ButtonGroup:Jn,buttonGroup:Wn,"ButtonGroup--stretched":"_ButtonGroup--stretched_o6uws_6",buttonGroupStretched:Zn,"ButtonGroup--mode-vertical":"_ButtonGroup--mode-vertical_o6uws_11",buttonGroupModeVertical:Qn,"ButtonGroup--mode-horizontal":"_ButtonGroup--mode-horizontal_o6uws_15",buttonGroupModeHorizontal:Xn,"ButtonGroup--gap-space":"_ButtonGroup--gap-space_o6uws_29",buttonGroupGapSpace:xn,"ButtonGroup--gap-s":"_ButtonGroup--gap-s_o6uws_29",buttonGroupGapS:et,"ButtonGroup--gap-m":"_ButtonGroup--gap-m_o6uws_37",buttonGroupGapM:nt,"ButtonGroup--align-left":"_ButtonGroup--align-left_o6uws_69",buttonGroupAlignLeft:tt,"ButtonGroup--align-center":"_ButtonGroup--align-center_o6uws_73",buttonGroupAlignCenter:rt,"ButtonGroup--align-right":"_ButtonGroup--align-right_o6uws_77",buttonGroupAlignRight:it},ot={vertical:oe["ButtonGroup--mode-vertical"],horizontal:oe["ButtonGroup--mode-horizontal"]},lt={space:oe["ButtonGroup--gap-space"],s:oe["ButtonGroup--gap-s"],m:oe["ButtonGroup--gap-m"]},ct={left:oe["ButtonGroup--align-left"],center:oe["ButtonGroup--align-center"],right:oe["ButtonGroup--align-right"]},at=({mode:t="horizontal",gap:v="m",stretched:m=!1,align:d="left",...T})=>E.createElement(rn,{baseClassName:pe(oe.ButtonGroup,ot[t],v!=="none"&&lt[v],m&&oe["ButtonGroup--stretched"],ct[d]),role:"group",...T}),st="_RichCellIcon_12ec3_1",ut="_RichCellIcon_12ec3_1",dt={RichCellIcon:st,richCellIcon:ut},Tt=t=>E.createElement(rn,{baseClassName:dt.RichCellIcon,...t}),pt="_RichCell_hl7x9_1",ft="_RichCell_hl7x9_1",_t="_RichCell--sizeY-compact_hl7x9_11",yt="_RichCell--sizeY-none_hl7x9_16",mt="_RichCell__before_hl7x9_21",ht="_RichCell__before_hl7x9_21",St="_RichCell__in_hl7x9_25",bt="_RichCell__in_hl7x9_25",Ct="_RichCell__content_hl7x9_34",It="_RichCell__content_hl7x9_34",vt="_RichCell__content-before_hl7x9_39",Rt="_RichCell__content-after_hl7x9_44",Ot="_RichCell__after-children_hl7x9_53",gt="_RichCell__after-caption_hl7x9_57",wt="_RichCell__subhead_hl7x9_76",Et="_RichCell__subhead_hl7x9_76",Nt="_RichCell__caption_hl7x9_80",Ut="_RichCell__caption_hl7x9_80",Lt="_RichCell__children_hl7x9_85",Pt="_RichCell__children_hl7x9_85",At="_RichCell--text-ellipsis_hl7x9_89",Bt="_RichCell__text_hl7x9_91",jt="_RichCell__text_hl7x9_91",Ft="_RichCell__bottom_hl7x9_99",$t="_RichCell__bottom_hl7x9_99",kt="_RichCell__actions_hl7x9_103",Kt="_RichCell__actions_hl7x9_103",q={RichCell:pt,richCell:ft,"RichCell--sizeY-compact":"_RichCell--sizeY-compact_hl7x9_11",richCellSizeYCompact:_t,"RichCell--sizeY-none":"_RichCell--sizeY-none_hl7x9_16",richCellSizeYNone:yt,RichCell__before:mt,richCellBefore:ht,RichCell__in:St,richCellIn:bt,RichCell__content:Ct,richCellContent:It,"RichCell__content-before":"_RichCell__content-before_hl7x9_39",richCellContentBefore:vt,"RichCell__content-after":"_RichCell__content-after_hl7x9_44",richCellContentAfter:Rt,"RichCell__after-children":"_RichCell__after-children_hl7x9_53",richCellAfterChildren:Ot,"RichCell__after-caption":"_RichCell__after-caption_hl7x9_57",richCellAfterCaption:gt,RichCell__subhead:wt,richCellSubhead:Et,RichCell__caption:Nt,richCellCaption:Ut,RichCell__children:Lt,richCellChildren:Pt,"RichCell--text-ellipsis":"_RichCell--text-ellipsis_hl7x9_89",richCellTextEllipsis:At,RichCell__text:Bt,richCellText:jt,RichCell__bottom:Ft,richCellBottom:$t,RichCell__actions:kt,richCellActions:Kt},Dt={none:q["RichCell--sizeY-none"],[on.COMPACT]:q["RichCell--sizeY-compact"]},hn=({subhead:t,children:v,text:m,caption:d,before:T,after:R,afterCaption:o,bottom:K,actions:G,multiline:u,className:$,...h})=>{const{sizeY:Y="none"}=yn();return E.createElement(wn,{...h,className:pe(q.RichCell,!u&&q["RichCell--text-ellipsis"],Y!==on.REGULAR&&Dt[Y],$)},T&&E.createElement("div",{className:q.RichCell__before},T),E.createElement("div",{className:q.RichCell__in},E.createElement("div",{className:q.RichCell__content},E.createElement("div",{className:q["RichCell__content-before"]},t&&E.createElement(sn,{Component:"div",className:q.RichCell__subhead},t),E.createElement("div",{className:q.RichCell__children},v),m&&E.createElement("div",{className:q.RichCell__text},m),d&&E.createElement(sn,{Component:"div",className:q.RichCell__caption},d)),(R||o)&&E.createElement("div",{className:q["RichCell__content-after"]},R&&E.createElement("div",{className:q["RichCell__after-children"]},R),o&&E.createElement("div",{className:q["RichCell__after-caption"]},o))),K&&E.createElement("div",{className:q.RichCell__bottom},K),G&&E.createElement("div",{className:q.RichCell__actions},G)))};hn.Icon=Tt;const zt="_Footer_v6qjz_1",Mt="_Footer_v6qjz_1",Gt={Footer:zt,footer:Mt},Yt=({children:t,className:v,...m})=>E.createElement(En,{Component:"footer",...m,className:pe(Gt.Footer,v)},t),Ht="_Search_1k1ci_1",Vt="_Search_1k1ci_1",qt="_Search--withPadding_1k1ci_9",Jt="_Search--sizeY-compact_1k1ci_17",Wt="_Search--sizeY-none_1k1ci_22",Zt="_Search__field_1k1ci_27",Qt="_Search__field_1k1ci_27",Xt="_Search__control_1k1ci_48",xt="_Search__control_1k1ci_48",er="_Search__input_1k1ci_59",nr="_Search__input_1k1ci_59",tr="_Search--has-after_1k1ci_94",rr="_Search--has-value_1k1ci_99",ir="_Search--has-icon_1k1ci_100",or="_Search--disabled_1k1ci_108",lr="_Search__icons_1k1ci_158",cr="_Search__icons_1k1ci_158",ar="_Search__icon_1k1ci_158",sr="_Search__icon_1k1ci_158",ur="_Search__after_1k1ci_180",dr="_Search__after_1k1ci_180",Tr="_Search--focused_1k1ci_196",pr="_Search__afterText_1k1ci_203",fr="_Search__afterText_1k1ci_203",_r="_Group--mode-plain_1k1ci_210",V={Search:Ht,search:Vt,"Search--withPadding":"_Search--withPadding_1k1ci_9",searchWithPadding:qt,"Search--sizeY-compact":"_Search--sizeY-compact_1k1ci_17",searchSizeYCompact:Jt,"Search--sizeY-none":"_Search--sizeY-none_1k1ci_22",searchSizeYNone:Wt,Search__field:Zt,searchField:Qt,Search__control:Xt,searchControl:xt,Search__input:er,searchInput:nr,"Search--has-after":"_Search--has-after_1k1ci_94",searchHasAfter:tr,"Search--has-value":"_Search--has-value_1k1ci_99",searchHasValue:rr,"Search--has-icon":"_Search--has-icon_1k1ci_100",searchHasIcon:ir,"Search--disabled":"_Search--disabled_1k1ci_108",searchDisabled:or,Search__icons:lr,searchIcons:cr,Search__icon:ar,searchIcon:sr,Search__after:ur,searchAfter:dr,"Search--focused":"_Search--focused_1k1ci_196",searchFocused:Tr,Search__afterText:pr,searchAfterText:fr,"Group--mode-plain":"_Group--mode-plain_1k1ci_210",groupModePlain:_r},yr=({before:t=E.createElement(Hn,null),className:v,defaultValue:m="",placeholder:d="Поиск",after:T="Отмена",getRef:R,icon:o,onIconClick:K=Fn,style:G,autoComplete:u="off",onChange:$,value:h,iconAriaLabel:Y,clearAriaLabel:X="Очистить",noPadding:ie,getRootRef:fe,...le})=>{const x=Nn(R),{value:Ce,setTrue:_e,setFalse:ae}=Un(!1),[Q,Ie]=Ln({defaultValue:m,onChange:$,value:h}),{sizeY:ce="none"}=yn(),ve=Pn(),se=Z=>{_e(),le.onFocus&&le.onFocus(Z)},je=Z=>{ae(),le.onBlur&&le.onBlur(Z)},te=E.useCallback(()=>{var Oe,ge;const Z=(Oe=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))==null?void 0:Oe.set;Z==null||Z.call(x.current,"");const ye=new Event("input",{bubbles:!0});(ge=x.current)==null||ge.dispatchEvent(ye)},[x]),Re=E.useCallback(Z=>K(Z.originalEvent),[K]),Fe=E.useCallback(Z=>{var ye;Z.originalEvent.preventDefault(),(ye=x.current)==null||ye.focus(),An()&&te()},[x,te]);return E.createElement("div",{className:pe("vkuiInternalSearch",V.Search,ce==="none"&&V["Search--sizeY-none"],ce===on.COMPACT&&V["Search--sizeY-compact"],Ce&&V["Search--focused"],Q&&V["Search--has-value"],T&&V["Search--has-after"],o&&V["Search--has-icon"],le.disabled&&V["Search--disabled"],!ie&&V["Search--withPadding"],v),ref:fe,style:G},E.createElement("div",{className:V.Search__field},E.createElement("label",{className:V.Search__control},t,E.createElement(Bn,{Component:"input",type:"search",level:"1",weight:"3",...le,placeholder:d,autoComplete:u,getRootRef:x,className:V.Search__input,onFocus:se,onBlur:je,onChange:Ie,value:Q})),E.createElement("div",{className:V.Search__icons},o&&E.createElement(un,{hoverMode:"opacity",onStart:Re,className:V.Search__icon,onFocus:_e,onBlur:ae,"aria-label":Y},o),!!Q&&E.createElement(un,{hoverMode:"opacity",onStart:Fe,onClick:te,className:V.Search__icon,"aria-label":X},ve===dn.IOS?E.createElement(Yn,null):E.createElement(jn,null)))),ve===dn.IOS&&T&&E.createElement(ln,{mode:"tertiary",size:"m",className:V.Search__after,focusVisibleMode:"inside",onClick:te,onFocus:_e,onBlur:ae},E.createElement("span",{className:V.Search__afterText},T)))},mr="_AccordionSummary_4zehr_2",hr="_AccordionSummary_4zehr_2",Sr="_AccordionSummary__icon_4zehr_5",br="_AccordionSummary__icon_4zehr_5",Cr="_Accordion_4zehr_2",Ir="_Accordion_4zehr_2",vr="_AccordionSummary__icon--collapse_4zehr_8",Rr="_AccordionSummary__icon--expand_4zehr_11",Se={AccordionSummary:mr,accordionSummary:hr,AccordionSummary__icon:Sr,accordionSummaryIcon:br,Accordion:Cr,accordion:Ir,"AccordionSummary__icon--collapse":"_AccordionSummary__icon--collapse_4zehr_8",accordionSummaryIconCollapse:vr,"AccordionSummary__icon--expand":"_AccordionSummary__icon--expand_4zehr_11",accordionSummaryIconExpand:Rr},Or=({className:t,after:v,before:m,ExpandIcon:d=Vn,CollapseIcon:T=qn,iconPosition:R="after",children:o,...K})=>{const G=ne.createElement("span",{className:"vkuiIcon"},ne.createElement(d,{className:pe(Se.AccordionSummary__icon,Se["AccordionSummary__icon--expand"])}),ne.createElement(T,{className:pe(Se.AccordionSummary__icon,Se["AccordionSummary__icon--collapse"])}));return ne.createElement($n,{className:pe(Se.AccordionSummary,t),Component:"summary",before:ne.createElement(ne.Fragment,null,R==="before"&&G,m),after:ne.createElement(ne.Fragment,null,v,R==="after"&&G),...K},o)},nn=t=>E.createElement(rn,{Component:"details",baseClassName:Se.Accordion,...t});nn.Summary=Or;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var tn=function(t,v){return tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var T in d)d.hasOwnProperty(T)&&(m[T]=d[T])},tn(t,v)};function gr(t,v){tn(t,v);function m(){this.constructor=t}t.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}var Be=function(){return Be=Object.assign||function(v){for(var m,d=1,T=arguments.length;d<T;d++){m=arguments[d];for(var R in m)Object.prototype.hasOwnProperty.call(m,R)&&(v[R]=m[R])}return v},Be.apply(this,arguments)};function wr(t,v,m,d){var T,R=!1,o=0;function K(){T&&clearTimeout(T)}function G(){K(),R=!0}typeof v!="boolean"&&(d=m,m=v,v=void 0);function u(){var $=this,h=Date.now()-o,Y=arguments;if(R)return;function X(){o=Date.now(),m.apply($,Y)}function ie(){T=void 0}d&&!T&&X(),K(),d===void 0&&h>t?X():v!==!0&&(T=setTimeout(d?ie:X,d===void 0?t-h:t))}return u.cancel=G,u}var be={Pixel:"Pixel",Percent:"Percent"},fn={unit:be.Percent,value:.8};function _n(t){return typeof t=="number"?{unit:be.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:be.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:be.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),fn):(console.warn("scrollThreshold should be string or number"),fn)}var Er=function(t){gr(v,t);function v(m){var d=t.call(this,m)||this;return d.lastScrollTop=0,d.actionTriggered=!1,d.startY=0,d.currentY=0,d.dragging=!1,d.maxPullDownDistance=0,d.getScrollableTarget=function(){return d.props.scrollableTarget instanceof HTMLElement?d.props.scrollableTarget:typeof d.props.scrollableTarget=="string"?document.getElementById(d.props.scrollableTarget):(d.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},d.onStart=function(T){d.lastScrollTop||(d.dragging=!0,T instanceof MouseEvent?d.startY=T.pageY:T instanceof TouchEvent&&(d.startY=T.touches[0].pageY),d.currentY=d.startY,d._infScroll&&(d._infScroll.style.willChange="transform",d._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},d.onMove=function(T){d.dragging&&(T instanceof MouseEvent?d.currentY=T.pageY:T instanceof TouchEvent&&(d.currentY=T.touches[0].pageY),!(d.currentY<d.startY)&&(d.currentY-d.startY>=Number(d.props.pullDownToRefreshThreshold)&&d.setState({pullToRefreshThresholdBreached:!0}),!(d.currentY-d.startY>d.maxPullDownDistance*1.5)&&d._infScroll&&(d._infScroll.style.overflow="visible",d._infScroll.style.transform="translate3d(0px, "+(d.currentY-d.startY)+"px, 0px)")))},d.onEnd=function(){d.startY=0,d.currentY=0,d.dragging=!1,d.state.pullToRefreshThresholdBreached&&(d.props.refreshFunction&&d.props.refreshFunction(),d.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){d._infScroll&&(d._infScroll.style.overflow="auto",d._infScroll.style.transform="none",d._infScroll.style.willChange="unset")})},d.onScrollListener=function(T){typeof d.props.onScroll=="function"&&setTimeout(function(){return d.props.onScroll&&d.props.onScroll(T)},0);var R=d.props.height||d._scrollableNode?T.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!d.actionTriggered){var o=d.props.inverse?d.isElementAtTop(R,d.props.scrollThreshold):d.isElementAtBottom(R,d.props.scrollThreshold);o&&d.props.hasMore&&(d.actionTriggered=!0,d.setState({showLoader:!0}),d.props.next&&d.props.next()),d.lastScrollTop=R.scrollTop}},d.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:m.dataLength},d.throttledOnScrollListener=wr(150,d.onScrollListener).bind(d),d.onStart=d.onStart.bind(d),d.onMove=d.onMove.bind(d),d.onEnd=d.onEnd.bind(d),d}return v.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},v.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},v.prototype.componentDidUpdate=function(m){this.props.dataLength!==m.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},v.getDerivedStateFromProps=function(m,d){var T=m.dataLength!==d.prevDataLength;return T?Be(Be({},d),{prevDataLength:m.dataLength}):null},v.prototype.isElementAtTop=function(m,d){d===void 0&&(d=.8);var T=m===document.body||m===document.documentElement?window.screen.availHeight:m.clientHeight,R=_n(d);return R.unit===be.Pixel?m.scrollTop<=R.value+T-m.scrollHeight+1:m.scrollTop<=R.value/100+T-m.scrollHeight+1},v.prototype.isElementAtBottom=function(m,d){d===void 0&&(d=.8);var T=m===document.body||m===document.documentElement?window.screen.availHeight:m.clientHeight,R=_n(d);return R.unit===be.Pixel?m.scrollTop+T>=m.scrollHeight-R.value:m.scrollTop+T>=R.value/100*m.scrollHeight},v.prototype.render=function(){var m=this,d=Be({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),T=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),R=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return ne.createElement("div",{style:R,className:"infinite-scroll-component__outerdiv"},ne.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return m._infScroll=o},style:d},this.props.pullDownToRefresh&&ne.createElement("div",{style:{position:"relative"},ref:function(o){return m._pullDown=o}},ne.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!T&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},v}(E.Component),w={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Type=t.JsonType=t.JavaScriptTypeBuilder=t.JsonTypeBuilder=t.TypeBuilder=t.TypeBuilderError=t.TransformEncodeBuilder=t.TransformDecodeBuilder=t.TemplateLiteralDslParser=t.TemplateLiteralGenerator=t.TemplateLiteralGeneratorError=t.TemplateLiteralFinite=t.TemplateLiteralFiniteError=t.TemplateLiteralParser=t.TemplateLiteralParserError=t.TemplateLiteralResolver=t.TemplateLiteralPattern=t.TemplateLiteralPatternError=t.UnionResolver=t.KeyArrayResolver=t.KeyArrayResolverError=t.KeyResolver=t.ObjectMap=t.Intrinsic=t.IndexedAccessor=t.TypeClone=t.TypeExtends=t.TypeExtendsResult=t.TypeExtendsError=t.ExtendsUndefined=t.TypeGuard=t.TypeGuardUnknownTypeError=t.ValueGuard=t.FormatRegistry=t.TypeBoxError=t.TypeRegistry=t.PatternStringExact=t.PatternNumberExact=t.PatternBooleanExact=t.PatternString=t.PatternNumber=t.PatternBoolean=t.Kind=t.Hint=t.Optional=t.Readonly=t.Transform=void 0,t.Transform=Symbol.for("TypeBox.Transform"),t.Readonly=Symbol.for("TypeBox.Readonly"),t.Optional=Symbol.for("TypeBox.Optional"),t.Hint=Symbol.for("TypeBox.Hint"),t.Kind=Symbol.for("TypeBox.Kind"),t.PatternBoolean="(true|false)",t.PatternNumber="(0|[1-9][0-9]*)",t.PatternString="(.*)",t.PatternBooleanExact=`^${t.PatternBoolean}$`,t.PatternNumberExact=`^${t.PatternNumber}$`,t.PatternStringExact=`^${t.PatternString}$`;var v;(function(f){const i=new Map;function l(){return new Map(i)}f.Entries=l;function a(){return i.clear()}f.Clear=a;function p(I){return i.delete(I)}f.Delete=p;function s(I){return i.has(I)}f.Has=s;function c(I,S){i.set(I,S)}f.Set=c;function y(I){return i.get(I)}f.Get=y})(v||(t.TypeRegistry=v={}));class m extends Error{constructor(i){super(i)}}t.TypeBoxError=m;var d;(function(f){const i=new Map;function l(){return new Map(i)}f.Entries=l;function a(){return i.clear()}f.Clear=a;function p(I){return i.delete(I)}f.Delete=p;function s(I){return i.has(I)}f.Has=s;function c(I,S){i.set(I,S)}f.Set=c;function y(I){return i.get(I)}f.Get=y})(d||(t.FormatRegistry=d={}));var T;(function(f){function i(S){return Array.isArray(S)}f.IsArray=i;function l(S){return typeof S=="bigint"}f.IsBigInt=l;function a(S){return typeof S=="boolean"}f.IsBoolean=a;function p(S){return S===null}f.IsNull=p;function s(S){return typeof S=="number"}f.IsNumber=s;function c(S){return typeof S=="object"&&S!==null}f.IsObject=c;function y(S){return typeof S=="string"}f.IsString=y;function I(S){return S===void 0}f.IsUndefined=I})(T||(t.ValueGuard=T={}));class R extends m{}t.TypeGuardUnknownTypeError=R;var o;(function(f){function i(r){try{return new RegExp(r),!0}catch{return!1}}function l(r){if(!T.IsString(r))return!1;for(let j=0;j<r.length;j++){const ee=r.charCodeAt(j);if(ee>=7&&ee<=13||ee===27||ee===127)return!1}return!0}function a(r){return c(r)||M(r)}function p(r){return T.IsUndefined(r)||T.IsBigInt(r)}function s(r){return T.IsUndefined(r)||T.IsNumber(r)}function c(r){return T.IsUndefined(r)||T.IsBoolean(r)}function y(r){return T.IsUndefined(r)||T.IsString(r)}function I(r){return T.IsUndefined(r)||T.IsString(r)&&l(r)&&i(r)}function S(r){return T.IsUndefined(r)||T.IsString(r)&&l(r)}function b(r){return T.IsUndefined(r)||M(r)}function O(r){return N(r,"Any")&&y(r.$id)}f.TAny=O;function F(r){return N(r,"Array")&&r.type==="array"&&y(r.$id)&&M(r.items)&&s(r.minItems)&&s(r.maxItems)&&c(r.uniqueItems)&&b(r.contains)&&s(r.minContains)&&s(r.maxContains)}f.TArray=F;function _(r){return N(r,"AsyncIterator")&&r.type==="AsyncIterator"&&y(r.$id)&&M(r.items)}f.TAsyncIterator=_;function C(r){return N(r,"BigInt")&&r.type==="bigint"&&y(r.$id)&&p(r.exclusiveMaximum)&&p(r.exclusiveMinimum)&&p(r.maximum)&&p(r.minimum)&&p(r.multipleOf)}f.TBigInt=C;function g(r){return N(r,"Boolean")&&r.type==="boolean"&&y(r.$id)}f.TBoolean=g;function U(r){return N(r,"Constructor")&&r.type==="Constructor"&&y(r.$id)&&T.IsArray(r.parameters)&&r.parameters.every(j=>M(j))&&M(r.returns)}f.TConstructor=U;function P(r){return N(r,"Date")&&r.type==="Date"&&y(r.$id)&&s(r.exclusiveMaximumTimestamp)&&s(r.exclusiveMinimumTimestamp)&&s(r.maximumTimestamp)&&s(r.minimumTimestamp)&&s(r.multipleOfTimestamp)}f.TDate=P;function L(r){return N(r,"Function")&&r.type==="Function"&&y(r.$id)&&T.IsArray(r.parameters)&&r.parameters.every(j=>M(j))&&M(r.returns)}f.TFunction=L;function k(r){return N(r,"Integer")&&r.type==="integer"&&y(r.$id)&&s(r.exclusiveMaximum)&&s(r.exclusiveMinimum)&&s(r.maximum)&&s(r.minimum)&&s(r.multipleOf)}f.TInteger=k;function J(r){return N(r,"Intersect")&&!(T.IsString(r.type)&&r.type!=="object")&&T.IsArray(r.allOf)&&r.allOf.every(j=>M(j)&&!Pe(j))&&y(r.type)&&(c(r.unevaluatedProperties)||b(r.unevaluatedProperties))&&y(r.$id)}f.TIntersect=J;function $e(r){return N(r,"Iterator")&&r.type==="Iterator"&&y(r.$id)&&M(r.items)}f.TIterator=$e;function N(r,j){return we(r)&&r[t.Kind]===j}f.TKindOf=N;function we(r){return T.IsObject(r)&&t.Kind in r&&T.IsString(r[t.Kind])}f.TKind=we;function Ee(r){return ue(r)&&T.IsString(r.const)}f.TLiteralString=Ee;function ke(r){return ue(r)&&T.IsNumber(r.const)}f.TLiteralNumber=ke;function We(r){return ue(r)&&T.IsBoolean(r.const)}f.TLiteralBoolean=We;function ue(r){return N(r,"Literal")&&y(r.$id)&&(T.IsBoolean(r.const)||T.IsNumber(r.const)||T.IsString(r.const))}f.TLiteral=ue;function Ke(r){return N(r,"Never")&&T.IsObject(r.not)&&Object.getOwnPropertyNames(r.not).length===0}f.TNever=Ke;function H(r){return N(r,"Not")&&M(r.not)}f.TNot=H;function Ne(r){return N(r,"Null")&&r.type==="null"&&y(r.$id)}f.TNull=Ne;function Ue(r){return N(r,"Number")&&r.type==="number"&&y(r.$id)&&s(r.exclusiveMaximum)&&s(r.exclusiveMinimum)&&s(r.maximum)&&s(r.minimum)&&s(r.multipleOf)}f.TNumber=Ue;function me(r){return N(r,"Object")&&r.type==="object"&&y(r.$id)&&T.IsObject(r.properties)&&a(r.additionalProperties)&&s(r.minProperties)&&s(r.maxProperties)&&Object.entries(r.properties).every(([j,ee])=>l(j)&&M(ee))}f.TObject=me;function Le(r){return N(r,"Promise")&&r.type==="Promise"&&y(r.$id)&&M(r.item)}f.TPromise=Le;function De(r){return N(r,"Record")&&r.type==="object"&&y(r.$id)&&a(r.additionalProperties)&&T.IsObject(r.patternProperties)&&(j=>{const ee=Object.getOwnPropertyNames(j.patternProperties);return ee.length===1&&i(ee[0])&&T.IsObject(j.patternProperties)&&M(j.patternProperties[ee[0]])})(r)}f.TRecord=De;function Ze(r){return T.IsObject(r)&&t.Hint in r&&r[t.Hint]==="Recursive"}f.TRecursive=Ze;function ze(r){return N(r,"Ref")&&y(r.$id)&&T.IsString(r.$ref)}f.TRef=ze;function Me(r){return N(r,"String")&&r.type==="string"&&y(r.$id)&&s(r.minLength)&&s(r.maxLength)&&I(r.pattern)&&S(r.format)}f.TString=Me;function Ge(r){return N(r,"Symbol")&&r.type==="symbol"&&y(r.$id)}f.TSymbol=Ge;function de(r){return N(r,"TemplateLiteral")&&r.type==="string"&&T.IsString(r.pattern)&&r.pattern[0]==="^"&&r.pattern[r.pattern.length-1]==="$"}f.TTemplateLiteral=de;function Ye(r){return N(r,"This")&&y(r.$id)&&T.IsString(r.$ref)}f.TThis=Ye;function Pe(r){return T.IsObject(r)&&t.Transform in r}f.TTransform=Pe;function z(r){return N(r,"Tuple")&&r.type==="array"&&y(r.$id)&&T.IsNumber(r.minItems)&&T.IsNumber(r.maxItems)&&r.minItems===r.maxItems&&(T.IsUndefined(r.items)&&T.IsUndefined(r.additionalItems)&&r.minItems===0||T.IsArray(r.items)&&r.items.every(j=>M(j)))}f.TTuple=z;function He(r){return N(r,"Undefined")&&r.type==="undefined"&&y(r.$id)}f.TUndefined=He;function Qe(r){return Te(r)&&r.anyOf.every(j=>Ee(j)||ke(j))}f.TUnionLiteral=Qe;function Te(r){return N(r,"Union")&&y(r.$id)&&T.IsObject(r)&&T.IsArray(r.anyOf)&&r.anyOf.every(j=>M(j))}f.TUnion=Te;function he(r){return N(r,"Uint8Array")&&r.type==="Uint8Array"&&y(r.$id)&&s(r.minByteLength)&&s(r.maxByteLength)}f.TUint8Array=he;function W(r){return N(r,"Unknown")&&y(r.$id)}f.TUnknown=W;function Ve(r){return N(r,"Unsafe")}f.TUnsafe=Ve;function Ae(r){return N(r,"Void")&&r.type==="void"&&y(r.$id)}f.TVoid=Ae;function Xe(r){return T.IsObject(r)&&r[t.Readonly]==="Readonly"}f.TReadonly=Xe;function xe(r){return T.IsObject(r)&&r[t.Optional]==="Optional"}f.TOptional=xe;function M(r){return T.IsObject(r)&&(O(r)||F(r)||g(r)||C(r)||_(r)||U(r)||P(r)||L(r)||k(r)||J(r)||$e(r)||ue(r)||Ke(r)||H(r)||Ne(r)||Ue(r)||me(r)||Le(r)||De(r)||ze(r)||Me(r)||Ge(r)||de(r)||Ye(r)||z(r)||He(r)||Te(r)||he(r)||W(r)||Ve(r)||Ae(r)||we(r)&&v.Has(r[t.Kind]))}f.TSchema=M})(o||(t.TypeGuard=o={}));var K;(function(f){function i(l){return l[t.Kind]==="Intersect"?l.allOf.every(a=>i(a)):l[t.Kind]==="Union"?l.anyOf.some(a=>i(a)):l[t.Kind]==="Undefined"?!0:l[t.Kind]==="Not"?!i(l.not):!1}f.Check=i})(K||(t.ExtendsUndefined=K={}));class G extends m{}t.TypeExtendsError=G;var u;(function(f){f[f.Union=0]="Union",f[f.True=1]="True",f[f.False=2]="False"})(u||(t.TypeExtendsResult=u={}));var $;(function(f){function i(e){return e===u.False?e:u.True}function l(e){throw new G(e)}function a(e){return o.TNever(e)||o.TIntersect(e)||o.TUnion(e)||o.TUnknown(e)||o.TAny(e)}function p(e,n){return o.TNever(n)?N():o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TUnknown(n)?an():o.TAny(n)?s():l("StructuralRight")}function s(e,n){return u.True}function c(e,n){return o.TIntersect(n)?L(e,n):o.TUnion(n)&&n.anyOf.some(A=>o.TAny(A)||o.TUnknown(A))?u.True:o.TUnion(n)?u.Union:o.TUnknown(n)||o.TAny(n)?u.True:u.Union}function y(e,n){return o.TUnknown(e)?u.False:o.TAny(e)?u.Union:o.TNever(e)?u.True:u.False}function I(e,n){return o.TObject(n)&&de(n)?u.True:a(n)?p(e,n):o.TArray(n)?i(B(e.items,n.items)):u.False}function S(e,n){return a(n)?p(e,n):o.TAsyncIterator(n)?i(B(e.items,n.items)):u.False}function b(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TBigInt(n)?u.True:u.False}function O(e,n){return o.TLiteral(e)&&T.IsBoolean(e.const)||o.TBoolean(e)?u.True:u.False}function F(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TBoolean(n)?u.True:u.False}function _(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TConstructor(n)?e.parameters.length>n.parameters.length?u.False:e.parameters.every((A,re)=>i(B(n.parameters[re],A))===u.True)?i(B(e.returns,n.returns)):u.False:u.False}function C(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TDate(n)?u.True:u.False}function g(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TFunction(n)?e.parameters.length>n.parameters.length?u.False:e.parameters.every((A,re)=>i(B(n.parameters[re],A))===u.True)?i(B(e.returns,n.returns)):u.False:u.False}function U(e,n){return o.TLiteral(e)&&T.IsNumber(e.const)||o.TNumber(e)||o.TInteger(e)?u.True:u.False}function P(e,n){return o.TInteger(n)||o.TNumber(n)?u.True:a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):u.False}function L(e,n){return n.allOf.every(A=>B(e,A)===u.True)?u.True:u.False}function k(e,n){return e.allOf.some(A=>B(A,n)===u.True)?u.True:u.False}function J(e,n){return a(n)?p(e,n):o.TIterator(n)?i(B(e.items,n.items)):u.False}function $e(e,n){return o.TLiteral(n)&&n.const===e.const?u.True:a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TString(n)?Ae(e):o.TNumber(n)?ue(e):o.TInteger(n)?U(e):o.TBoolean(n)?O(e):u.False}function N(e,n){return u.False}function we(e,n){return u.True}function Ee(e){let[n,A]=[e,0];for(;o.TNot(n);)n=n.not,A+=1;return A%2===0?n:t.Type.Unknown()}function ke(e,n){return o.TNot(e)?B(Ee(e),n):o.TNot(n)?B(e,Ee(n)):l("Invalid fallthrough for Not")}function We(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TNull(n)?u.True:u.False}function ue(e,n){return o.TLiteralNumber(e)||o.TNumber(e)||o.TInteger(e)?u.True:u.False}function Ke(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TInteger(n)||o.TNumber(n)?u.True:u.False}function H(e,n){return Object.getOwnPropertyNames(e.properties).length===n}function Ne(e){return de(e)}function Ue(e){return H(e,0)||H(e,1)&&"description"in e.properties&&o.TUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(o.TString(e.properties.description.anyOf[0])&&o.TUndefined(e.properties.description.anyOf[1])||o.TString(e.properties.description.anyOf[1])&&o.TUndefined(e.properties.description.anyOf[0]))}function me(e){return H(e,0)}function Le(e){return H(e,0)}function De(e){return H(e,0)}function Ze(e){return H(e,0)}function ze(e){return de(e)}function Me(e){const n=t.Type.Number();return H(e,0)||H(e,1)&&"length"in e.properties&&i(B(e.properties.length,n))===u.True}function Ge(e){return H(e,0)}function de(e){const n=t.Type.Number();return H(e,0)||H(e,1)&&"length"in e.properties&&i(B(e.properties.length,n))===u.True}function Ye(e){const n=t.Type.Function([t.Type.Any()],t.Type.Any());return H(e,0)||H(e,1)&&"then"in e.properties&&i(B(e.properties.then,n))===u.True}function Pe(e,n){return B(e,n)===u.False||o.TOptional(e)&&!o.TOptional(n)?u.False:u.True}function z(e,n){return o.TUnknown(e)?u.False:o.TAny(e)?u.Union:o.TNever(e)||o.TLiteralString(e)&&Ne(n)||o.TLiteralNumber(e)&&me(n)||o.TLiteralBoolean(e)&&Le(n)||o.TSymbol(e)&&Ue(n)||o.TBigInt(e)&&De(n)||o.TString(e)&&Ne(n)||o.TSymbol(e)&&Ue(n)||o.TNumber(e)&&me(n)||o.TInteger(e)&&me(n)||o.TBoolean(e)&&Le(n)||o.TUint8Array(e)&&ze(n)||o.TDate(e)&&Ze(n)||o.TConstructor(e)&&Ge(n)||o.TFunction(e)&&Me(n)?u.True:o.TRecord(e)&&o.TString(Te(e))?(()=>n[t.Hint]==="Record"?u.True:u.False)():o.TRecord(e)&&o.TNumber(Te(e))?(()=>H(n,0)?u.True:u.False)():u.False}function He(e,n){return a(n)?p(e,n):o.TRecord(n)?W(e,n):o.TObject(n)?(()=>{for(const A of Object.getOwnPropertyNames(n.properties))if(!(A in e.properties)||Pe(e.properties[A],n.properties[A])===u.False)return u.False;return u.True})():u.False}function Qe(e,n){return a(n)?p(e,n):o.TObject(n)&&Ye(n)?u.True:o.TPromise(n)?i(B(e.item,n.item)):u.False}function Te(e){return t.PatternNumberExact in e.patternProperties?t.Type.Number():t.PatternStringExact in e.patternProperties?t.Type.String():l("Unknown record key pattern")}function he(e){return t.PatternNumberExact in e.patternProperties?e.patternProperties[t.PatternNumberExact]:t.PatternStringExact in e.patternProperties?e.patternProperties[t.PatternStringExact]:l("Unable to get record value schema")}function W(e,n){const[A,re]=[Te(n),he(n)];return o.TLiteralString(e)&&o.TNumber(A)&&i(B(e,re))===u.True?u.True:o.TUint8Array(e)&&o.TNumber(A)||o.TString(e)&&o.TNumber(A)||o.TArray(e)&&o.TNumber(A)?B(e,re):o.TObject(e)?(()=>{for(const gn of Object.getOwnPropertyNames(e.properties))if(Pe(re,e.properties[gn])===u.False)return u.False;return u.True})():u.False}function Ve(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?B(he(e),he(n)):u.False}function Ae(e,n){return o.TLiteral(e)&&T.IsString(e.const)||o.TString(e)?u.True:u.False}function Xe(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TString(n)?u.True:u.False}function xe(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TSymbol(n)?u.True:u.False}function M(e,n){return o.TTemplateLiteral(e)?B(Q.Resolve(e),n):o.TTemplateLiteral(n)?B(e,Q.Resolve(n)):l("Invalid fallthrough for TemplateLiteral")}function r(e,n){return o.TArray(n)&&e.items!==void 0&&e.items.every(A=>B(A,n.items)===u.True)}function j(e,n){return o.TNever(e)?u.True:o.TUnknown(e)?u.False:o.TAny(e)?u.Union:u.False}function ee(e,n){return a(n)?p(e,n):o.TObject(n)&&de(n)||o.TArray(n)&&r(e,n)?u.True:o.TTuple(n)?T.IsUndefined(e.items)&&!T.IsUndefined(n.items)||!T.IsUndefined(e.items)&&T.IsUndefined(n.items)?u.False:T.IsUndefined(e.items)&&!T.IsUndefined(n.items)||e.items.every((A,re)=>B(A,n.items[re])===u.True)?u.True:u.False:u.False}function Sn(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TUint8Array(n)?u.True:u.False}function bn(e,n){return a(n)?p(e,n):o.TObject(n)?z(e,n):o.TRecord(n)?W(e,n):o.TVoid(n)?vn(e):o.TUndefined(n)?u.True:u.False}function en(e,n){return n.anyOf.some(A=>B(e,A)===u.True)?u.True:u.False}function Cn(e,n){return e.anyOf.every(A=>B(A,n)===u.True)?u.True:u.False}function an(e,n){return u.True}function In(e,n){return o.TNever(n)?N():o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TAny(n)?s():o.TString(n)?Ae(e):o.TNumber(n)?ue(e):o.TInteger(n)?U(e):o.TBoolean(n)?O(e):o.TArray(n)?y(e):o.TTuple(n)?j(e):o.TObject(n)?z(e,n):o.TUnknown(n)?u.True:u.False}function vn(e,n){return o.TUndefined(e)||o.TUndefined(e)?u.True:u.False}function Rn(e,n){return o.TIntersect(n)?L(e,n):o.TUnion(n)?en(e,n):o.TUnknown(n)?an():o.TAny(n)?s():o.TObject(n)?z(e,n):o.TVoid(n)?u.True:u.False}function B(e,n){return o.TTemplateLiteral(e)||o.TTemplateLiteral(n)?M(e,n):o.TNot(e)||o.TNot(n)?ke(e,n):o.TAny(e)?c(e,n):o.TArray(e)?I(e,n):o.TBigInt(e)?b(e,n):o.TBoolean(e)?F(e,n):o.TAsyncIterator(e)?S(e,n):o.TConstructor(e)?_(e,n):o.TDate(e)?C(e,n):o.TFunction(e)?g(e,n):o.TInteger(e)?P(e,n):o.TIntersect(e)?k(e,n):o.TIterator(e)?J(e,n):o.TLiteral(e)?$e(e,n):o.TNever(e)?we():o.TNull(e)?We(e,n):o.TNumber(e)?Ke(e,n):o.TObject(e)?He(e,n):o.TRecord(e)?Ve(e,n):o.TString(e)?Xe(e,n):o.TSymbol(e)?xe(e,n):o.TTuple(e)?ee(e,n):o.TPromise(e)?Qe(e,n):o.TUint8Array(e)?Sn(e,n):o.TUndefined(e)?bn(e,n):o.TUnion(e)?Cn(e,n):o.TUnknown(e)?In(e,n):o.TVoid(e)?Rn(e,n):l(`Unknown left type operand '${e[t.Kind]}'`)}function On(e,n){return B(e,n)}f.Extends=On})($||(t.TypeExtends=$={}));var h;(function(f){function i(c){const y=Object.getOwnPropertyNames(c).reduce((S,b)=>({...S,[b]:a(c[b])}),{}),I=Object.getOwnPropertySymbols(c).reduce((S,b)=>({...S,[b]:a(c[b])}),{});return{...y,...I}}function l(c){return c.map(y=>a(y))}function a(c){return T.IsArray(c)?l(c):T.IsObject(c)?i(c):c}function p(c){return c.map(y=>s(y))}f.Rest=p;function s(c,y={}){return{...a(c),...y}}f.Type=s})(h||(t.TypeClone=h={}));var Y;(function(f){function i(_){return _.map(C=>{const{[t.Optional]:g,...U}=h.Type(C);return U})}function l(_){return _.every(C=>o.TOptional(C))}function a(_){return _.some(C=>o.TOptional(C))}function p(_){return l(_.allOf)?t.Type.Optional(t.Type.Intersect(i(_.allOf))):_}function s(_){return a(_.anyOf)?t.Type.Optional(t.Type.Union(i(_.anyOf))):_}function c(_){return _[t.Kind]==="Intersect"?p(_):_[t.Kind]==="Union"?s(_):_}function y(_,C){const g=_.allOf.reduce((U,P)=>{const L=O(P,C);return L[t.Kind]==="Never"?U:[...U,L]},[]);return c(t.Type.Intersect(g))}function I(_,C){const g=_.anyOf.map(U=>O(U,C));return c(t.Type.Union(g))}function S(_,C){const g=_.properties[C];return T.IsUndefined(g)?t.Type.Never():t.Type.Union([g])}function b(_,C){const g=_.items;if(T.IsUndefined(g))return t.Type.Never();const U=g[C];return T.IsUndefined(U)?t.Type.Never():U}function O(_,C){return _[t.Kind]==="Intersect"?y(_,C):_[t.Kind]==="Union"?I(_,C):_[t.Kind]==="Object"?S(_,C):_[t.Kind]==="Tuple"?b(_,C):t.Type.Never()}function F(_,C,g={}){const U=C.map(P=>O(_,P.toString()));return c(t.Type.Union(U,g))}f.Resolve=F})(Y||(t.IndexedAccessor=Y={}));var X;(function(f){function i(b){const[O,F]=[b.slice(0,1),b.slice(1)];return`${O.toLowerCase()}${F}`}function l(b){const[O,F]=[b.slice(0,1),b.slice(1)];return`${O.toUpperCase()}${F}`}function a(b){return b.toUpperCase()}function p(b){return b.toLowerCase()}function s(b,O){const F=ce.ParseExact(b.pattern);if(!se.Check(F))return{...b,pattern:c(b.pattern,O)};const g=[...te.Generate(F)].map(L=>t.Type.Literal(L)),U=y(g,O),P=t.Type.Union(U);return t.Type.TemplateLiteral([P])}function c(b,O){return typeof b=="string"?O==="Uncapitalize"?i(b):O==="Capitalize"?l(b):O==="Uppercase"?a(b):O==="Lowercase"?p(b):b:b.toString()}function y(b,O){if(b.length===0)return[];const[F,..._]=b;return[S(F,O),...y(_,O)]}function I(b,O){return o.TTemplateLiteral(b)?s(b,O):o.TUnion(b)?t.Type.Union(y(b.anyOf,O)):o.TLiteral(b)?t.Type.Literal(c(b.const,O)):b}function S(b,O){return I(b,O)}f.Map=S})(X||(t.Intrinsic=X={}));var ie;(function(f){function i(c,y){return t.Type.Intersect(c.allOf.map(I=>p(I,y)),{...c})}function l(c,y){return t.Type.Union(c.anyOf.map(I=>p(I,y)),{...c})}function a(c,y){return y(c)}function p(c,y){return c[t.Kind]==="Intersect"?i(c,y):c[t.Kind]==="Union"?l(c,y):c[t.Kind]==="Object"?a(c,y):c}function s(c,y,I){return{...p(h.Type(c),y),...I}}f.Map=s})(ie||(t.ObjectMap=ie={}));var fe;(function(f){function i(S){return S[0]==="^"&&S[S.length-1]==="$"?S.slice(1,S.length-1):S}function l(S,b){return S.allOf.reduce((O,F)=>[...O,...c(F,b)],[])}function a(S,b){const O=S.anyOf.map(F=>c(F,b));return[...O.reduce((F,_)=>_.map(C=>O.every(g=>g.includes(C))?F.add(C):F)[0],new Set)]}function p(S,b){return Object.getOwnPropertyNames(S.properties)}function s(S,b){return b.includePatterns?Object.getOwnPropertyNames(S.patternProperties):[]}function c(S,b){return o.TIntersect(S)?l(S,b):o.TUnion(S)?a(S,b):o.TObject(S)?p(S):o.TRecord(S)?s(S,b):[]}function y(S,b){return[...new Set(c(S,b))]}f.ResolveKeys=y;function I(S){return`^(${y(S,{includePatterns:!0}).map(F=>`(${i(F)})`).join("|")})$`}f.ResolvePattern=I})(fe||(t.KeyResolver=fe={}));class le extends m{}t.KeyArrayResolverError=le;var x;(function(f){function i(l){return Array.isArray(l)?l:o.TUnionLiteral(l)?l.anyOf.map(a=>a.const.toString()):o.TLiteral(l)?[l.const]:o.TTemplateLiteral(l)?(()=>{const a=ce.ParseExact(l.pattern);if(!se.Check(a))throw new le("Cannot resolve keys from infinite template expression");return[...te.Generate(a)]})():[]}f.Resolve=i})(x||(t.KeyArrayResolver=x={}));var Ce;(function(f){function*i(a){for(const p of a.anyOf)p[t.Kind]==="Union"?yield*i(p):yield p}function l(a){return t.Type.Union([...i(a)],{...a})}f.Resolve=l})(Ce||(t.UnionResolver=Ce={}));class _e extends m{}t.TemplateLiteralPatternError=_e;var ae;(function(f){function i(s){throw new _e(s)}function l(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(s,c){return o.TTemplateLiteral(s)?s.pattern.slice(1,s.pattern.length-1):o.TUnion(s)?`(${s.anyOf.map(y=>a(y,c)).join("|")})`:o.TNumber(s)?`${c}${t.PatternNumber}`:o.TInteger(s)?`${c}${t.PatternNumber}`:o.TBigInt(s)?`${c}${t.PatternNumber}`:o.TString(s)?`${c}${t.PatternString}`:o.TLiteral(s)?`${c}${l(s.const.toString())}`:o.TBoolean(s)?`${c}${t.PatternBoolean}`:i(`Unexpected Kind '${s[t.Kind]}'`)}function p(s){return`^${s.map(c=>a(c,"")).join("")}$`}f.Create=p})(ae||(t.TemplateLiteralPattern=ae={}));var Q;(function(f){function i(l){const a=ce.ParseExact(l.pattern);if(!se.Check(a))return t.Type.String();const p=[...te.Generate(a)].map(s=>t.Type.Literal(s));return t.Type.Union(p)}f.Resolve=i})(Q||(t.TemplateLiteralResolver=Q={}));class Ie extends m{}t.TemplateLiteralParserError=Ie;var ce;(function(f){function i(_,C,g){return _[C]===g&&_.charCodeAt(C-1)!==92}function l(_,C){return i(_,C,"(")}function a(_,C){return i(_,C,")")}function p(_,C){return i(_,C,"|")}function s(_){if(!(l(_,0)&&a(_,_.length-1)))return!1;let C=0;for(let g=0;g<_.length;g++)if(l(_,g)&&(C+=1),a(_,g)&&(C-=1),C===0&&g!==_.length-1)return!1;return!0}function c(_){return _.slice(1,_.length-1)}function y(_){let C=0;for(let g=0;g<_.length;g++)if(l(_,g)&&(C+=1),a(_,g)&&(C-=1),p(_,g)&&C===0)return!0;return!1}function I(_){for(let C=0;C<_.length;C++)if(l(_,C))return!0;return!1}function S(_){let[C,g]=[0,0];const U=[];for(let L=0;L<_.length;L++)if(l(_,L)&&(C+=1),a(_,L)&&(C-=1),p(_,L)&&C===0){const k=_.slice(g,L);k.length>0&&U.push(O(k)),g=L+1}const P=_.slice(g);return P.length>0&&U.push(O(P)),U.length===0?{type:"const",const:""}:U.length===1?U[0]:{type:"or",expr:U}}function b(_){function C(P,L){if(!l(P,L))throw new Ie("TemplateLiteralParser: Index must point to open parens");let k=0;for(let J=L;J<P.length;J++)if(l(P,J)&&(k+=1),a(P,J)&&(k-=1),k===0)return[L,J];throw new Ie("TemplateLiteralParser: Unclosed group parens in expression")}function g(P,L){for(let k=L;k<P.length;k++)if(l(P,k))return[L,k];return[L,P.length]}const U=[];for(let P=0;P<_.length;P++)if(l(_,P)){const[L,k]=C(_,P),J=_.slice(L,k+1);U.push(O(J)),P=k}else{const[L,k]=g(_,P),J=_.slice(L,k);J.length>0&&U.push(O(J)),P=k-1}return U.length===0?{type:"const",const:""}:U.length===1?U[0]:{type:"and",expr:U}}function O(_){return s(_)?O(c(_)):y(_)?S(_):I(_)?b(_):{type:"const",const:_}}f.Parse=O;function F(_){return O(_.slice(1,_.length-1))}f.ParseExact=F})(ce||(t.TemplateLiteralParser=ce={}));class ve extends m{}t.TemplateLiteralFiniteError=ve;var se;(function(f){function i(c){throw new ve(c)}function l(c){return c.type==="or"&&c.expr.length===2&&c.expr[0].type==="const"&&c.expr[0].const==="0"&&c.expr[1].type==="const"&&c.expr[1].const==="[1-9][0-9]*"}function a(c){return c.type==="or"&&c.expr.length===2&&c.expr[0].type==="const"&&c.expr[0].const==="true"&&c.expr[1].type==="const"&&c.expr[1].const==="false"}function p(c){return c.type==="const"&&c.const===".*"}function s(c){return a(c)?!0:l(c)||p(c)?!1:c.type==="and"?c.expr.every(y=>s(y)):c.type==="or"?c.expr.every(y=>s(y)):c.type==="const"?!0:i("Unknown expression type")}f.Check=s})(se||(t.TemplateLiteralFinite=se={}));class je extends m{}t.TemplateLiteralGeneratorError=je;var te;(function(f){function*i(c){if(c.length===1)return yield*c[0];for(const y of c[0])for(const I of i(c.slice(1)))yield`${y}${I}`}function*l(c){return yield*i(c.expr.map(y=>[...s(y)]))}function*a(c){for(const y of c.expr)yield*s(y)}function*p(c){return yield c.const}function*s(c){return c.type==="and"?yield*l(c):c.type==="or"?yield*a(c):c.type==="const"?yield*p(c):(()=>{throw new je("Unknown expression")})()}f.Generate=s})(te||(t.TemplateLiteralGenerator=te={}));var Re;(function(f){function*i(s){const c=s.trim().replace(/"|'/g,"");return c==="boolean"?yield t.Type.Boolean():c==="number"?yield t.Type.Number():c==="bigint"?yield t.Type.BigInt():c==="string"?yield t.Type.String():yield(()=>{const y=c.split("|").map(I=>t.Type.Literal(I.trim()));return y.length===0?t.Type.Never():y.length===1?y[0]:t.Type.Union(y)})()}function*l(s){if(s[1]!=="{"){const c=t.Type.Literal("$"),y=a(s.slice(1));return yield*[c,...y]}for(let c=2;c<s.length;c++)if(s[c]==="}"){const y=i(s.slice(2,c)),I=a(s.slice(c+1));return yield*[...y,...I]}yield t.Type.Literal(s)}function*a(s){for(let c=0;c<s.length;c++)if(s[c]==="$"){const y=t.Type.Literal(s.slice(0,c)),I=l(s.slice(c));return yield*[y,...I]}yield t.Type.Literal(s)}function p(s){return[...a(s)]}f.Parse=p})(Re||(t.TemplateLiteralDslParser=Re={}));class Fe{constructor(i){this.schema=i}Decode(i){return new Z(this.schema,i)}}t.TransformDecodeBuilder=Fe;class Z{constructor(i,l){this.schema=i,this.decode=l}Encode(i){const l=h.Type(this.schema);return o.TTransform(l)?(()=>{const s={Encode:c=>l[t.Transform].Encode(i(c)),Decode:c=>this.decode(l[t.Transform].Decode(c))};return{...l,[t.Transform]:s}})():(()=>{const a={Decode:this.decode,Encode:i};return{...l,[t.Transform]:a}})()}}t.TransformEncodeBuilder=Z;let ye=0;class Oe extends m{}t.TypeBuilderError=Oe;class ge{Create(i){return i}Throw(i){throw new Oe(i)}Discard(i,l){return l.reduce((a,p)=>{const{[p]:s,...c}=a;return c},i)}Strict(i){return JSON.parse(JSON.stringify(i))}}t.TypeBuilder=ge;class Je extends ge{ReadonlyOptional(i){return this.Readonly(this.Optional(i))}Readonly(i){return{...h.Type(i),[t.Readonly]:"Readonly"}}Optional(i){return{...h.Type(i),[t.Optional]:"Optional"}}Any(i={}){return this.Create({...i,[t.Kind]:"Any"})}Array(i,l={}){return this.Create({...l,[t.Kind]:"Array",type:"array",items:h.Type(i)})}Boolean(i={}){return this.Create({...i,[t.Kind]:"Boolean",type:"boolean"})}Capitalize(i,l={}){return{...X.Map(h.Type(i),"Capitalize"),...l}}Composite(i,l){const a=t.Type.Intersect(i,{}),s=fe.ResolveKeys(a,{includePatterns:!1}).reduce((c,y)=>({...c,[y]:t.Type.Index(a,[y])}),{});return t.Type.Object(s,l)}Enum(i,l={}){const a=Object.getOwnPropertyNames(i).filter(c=>isNaN(c)).map(c=>i[c]),s=[...new Set(a)].map(c=>t.Type.Literal(c));return this.Union(s,{...l,[t.Hint]:"Enum"})}Extends(i,l,a,p,s={}){switch($.Extends(i,l)){case u.Union:return this.Union([h.Type(a,s),h.Type(p,s)]);case u.True:return h.Type(a,s);case u.False:return h.Type(p,s)}}Exclude(i,l,a={}){return o.TTemplateLiteral(i)?this.Exclude(Q.Resolve(i),l,a):o.TTemplateLiteral(l)?this.Exclude(i,Q.Resolve(l),a):o.TUnion(i)?(()=>{const p=i.anyOf.filter(s=>$.Extends(s,l)===u.False);return p.length===1?h.Type(p[0],a):this.Union(p,a)})():$.Extends(i,l)!==u.False?this.Never(a):h.Type(i,a)}Extract(i,l,a={}){return o.TTemplateLiteral(i)?this.Extract(Q.Resolve(i),l,a):o.TTemplateLiteral(l)?this.Extract(i,Q.Resolve(l),a):o.TUnion(i)?(()=>{const p=i.anyOf.filter(s=>$.Extends(s,l)!==u.False);return p.length===1?h.Type(p[0],a):this.Union(p,a)})():$.Extends(i,l)!==u.False?h.Type(i,a):this.Never(a)}Index(i,l,a={}){return o.TArray(i)&&o.TNumber(l)?(()=>h.Type(i.items,a))():o.TTuple(i)&&o.TNumber(l)?(()=>{const s=(T.IsUndefined(i.items)?[]:i.items).map(c=>h.Type(c));return this.Union(s,a)})():(()=>{const p=x.Resolve(l),s=h.Type(i);return Y.Resolve(s,p,a)})()}Integer(i={}){return this.Create({...i,[t.Kind]:"Integer",type:"integer"})}Intersect(i,l={}){if(i.length===0)return t.Type.Never();if(i.length===1)return h.Type(i[0],l);i.some(c=>o.TTransform(c))&&this.Throw("Cannot intersect transform types");const a=i.every(c=>o.TObject(c)),p=h.Rest(i),s=o.TSchema(l.unevaluatedProperties)?{unevaluatedProperties:h.Type(l.unevaluatedProperties)}:{};return l.unevaluatedProperties===!1||o.TSchema(l.unevaluatedProperties)||a?this.Create({...l,...s,[t.Kind]:"Intersect",type:"object",allOf:p}):this.Create({...l,...s,[t.Kind]:"Intersect",allOf:p})}KeyOf(i,l={}){return o.TRecord(i)?(()=>{const a=Object.getOwnPropertyNames(i.patternProperties)[0];return a===t.PatternNumberExact?this.Number(l):a===t.PatternStringExact?this.String(l):this.Throw("Unable to resolve key type from Record key pattern")})():o.TTuple(i)?(()=>{const p=(T.IsUndefined(i.items)?[]:i.items).map((s,c)=>t.Type.Literal(c.toString()));return this.Union(p,l)})():o.TArray(i)?(()=>this.Number(l))():(()=>{const a=fe.ResolveKeys(i,{includePatterns:!1});if(a.length===0)return this.Never(l);const p=a.map(s=>this.Literal(s));return this.Union(p,l)})()}Literal(i,l={}){return this.Create({...l,[t.Kind]:"Literal",const:i,type:typeof i})}Lowercase(i,l={}){return{...X.Map(h.Type(i),"Lowercase"),...l}}Never(i={}){return this.Create({...i,[t.Kind]:"Never",not:{}})}Not(i,l){return this.Create({...l,[t.Kind]:"Not",not:h.Type(i)})}Null(i={}){return this.Create({...i,[t.Kind]:"Null",type:"null"})}Number(i={}){return this.Create({...i,[t.Kind]:"Number",type:"number"})}Object(i,l={}){const a=Object.getOwnPropertyNames(i),p=a.filter(I=>o.TOptional(i[I])),s=a.filter(I=>!p.includes(I)),c=o.TSchema(l.additionalProperties)?{additionalProperties:h.Type(l.additionalProperties)}:{},y=a.reduce((I,S)=>({...I,[S]:h.Type(i[S])}),{});return s.length>0?this.Create({...l,...c,[t.Kind]:"Object",type:"object",properties:y,required:s}):this.Create({...l,...c,[t.Kind]:"Object",type:"object",properties:y})}Omit(i,l,a={}){const p=x.Resolve(l);return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),s=>{T.IsArray(s.required)&&(s.required=s.required.filter(c=>!p.includes(c)),s.required.length===0&&delete s.required);for(const c of Object.getOwnPropertyNames(s.properties))p.includes(c)&&delete s.properties[c];return this.Create(s)},a)}Partial(i,l={}){return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),a=>{const p=Object.getOwnPropertyNames(a.properties).reduce((s,c)=>({...s,[c]:this.Optional(a.properties[c])}),{});return this.Object(p,this.Discard(a,["required"]))},l)}Pick(i,l,a={}){const p=x.Resolve(l);return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),s=>{T.IsArray(s.required)&&(s.required=s.required.filter(c=>p.includes(c)),s.required.length===0&&delete s.required);for(const c of Object.getOwnPropertyNames(s.properties))p.includes(c)||delete s.properties[c];return this.Create(s)},a)}Record(i,l,a={}){return o.TTemplateLiteral(i)?(()=>{const p=ce.ParseExact(i.pattern);return se.Check(p)?this.Object([...te.Generate(p)].reduce((s,c)=>({...s,[c]:h.Type(l)}),{}),a):this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[i.pattern]:h.Type(l)}})})():o.TUnion(i)?(()=>{const p=Ce.Resolve(i);if(o.TUnionLiteral(p)){const s=p.anyOf.reduce((c,y)=>({...c,[y.const]:h.Type(l)}),{});return this.Object(s,{...a,[t.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():o.TLiteral(i)?(()=>T.IsString(i.const)||T.IsNumber(i.const)?this.Object({[i.const]:h.Type(l)},a):this.Throw("Record key of type literal is not of type string or number"))():o.TInteger(i)||o.TNumber(i)?(()=>this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[t.PatternNumberExact]:h.Type(l)}}))():o.TString(i)?(()=>{const p=T.IsUndefined(i.pattern)?t.PatternStringExact:i.pattern;return this.Create({...a,[t.Kind]:"Record",type:"object",patternProperties:{[p]:h.Type(l)}})})():this.Never()}Recursive(i,l={}){T.IsUndefined(l.$id)&&(l.$id=`T${ye++}`);const a=i({[t.Kind]:"This",$ref:`${l.$id}`});return a.$id=l.$id,this.Create({...l,[t.Hint]:"Recursive",...a})}Ref(i,l={}){return T.IsString(i)?this.Create({...l,[t.Kind]:"Ref",$ref:i}):(T.IsUndefined(i.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...l,[t.Kind]:"Ref",$ref:i.$id}))}Required(i,l={}){return ie.Map(this.Discard(h.Type(i),["$id",t.Transform]),a=>{const p=Object.getOwnPropertyNames(a.properties).reduce((s,c)=>({...s,[c]:this.Discard(a.properties[c],[t.Optional])}),{});return this.Object(p,a)},l)}Rest(i){return o.TTuple(i)&&!T.IsUndefined(i.items)?h.Rest(i.items):o.TIntersect(i)?h.Rest(i.allOf):o.TUnion(i)?h.Rest(i.anyOf):[]}String(i={}){return this.Create({...i,[t.Kind]:"String",type:"string"})}TemplateLiteral(i,l={}){const a=T.IsString(i)?ae.Create(Re.Parse(i)):ae.Create(i);return this.Create({...l,[t.Kind]:"TemplateLiteral",type:"string",pattern:a})}Transform(i){return new Fe(i)}Tuple(i,l={}){const[a,p,s]=[!1,i.length,i.length],c=h.Rest(i),y=i.length>0?{...l,[t.Kind]:"Tuple",type:"array",items:c,additionalItems:a,minItems:p,maxItems:s}:{...l,[t.Kind]:"Tuple",type:"array",minItems:p,maxItems:s};return this.Create(y)}Uncapitalize(i,l={}){return{...X.Map(h.Type(i),"Uncapitalize"),...l}}Union(i,l={}){return o.TTemplateLiteral(i)?Q.Resolve(i):(()=>{const a=i;if(a.length===0)return this.Never(l);if(a.length===1)return this.Create(h.Type(a[0],l));const p=h.Rest(a);return this.Create({...l,[t.Kind]:"Union",anyOf:p})})()}Unknown(i={}){return this.Create({...i,[t.Kind]:"Unknown"})}Unsafe(i={}){return this.Create({...i,[t.Kind]:i[t.Kind]||"Unsafe"})}Uppercase(i,l={}){return{...X.Map(h.Type(i),"Uppercase"),...l}}}t.JsonTypeBuilder=Je;class cn extends Je{AsyncIterator(i,l={}){return this.Create({...l,[t.Kind]:"AsyncIterator",type:"AsyncIterator",items:h.Type(i)})}Awaited(i,l={}){const a=p=>p.length>0?(()=>{const[s,...c]=p;return[this.Awaited(s),...a(c)]})():p;return o.TIntersect(i)?t.Type.Intersect(a(i.allOf)):o.TUnion(i)?t.Type.Union(a(i.anyOf)):o.TPromise(i)?this.Awaited(i.item):h.Type(i,l)}BigInt(i={}){return this.Create({...i,[t.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(i,l={}){return this.Tuple([...i.parameters],{...l})}Constructor(i,l,a){const[p,s]=[h.Rest(i),h.Type(l)];return this.Create({...a,[t.Kind]:"Constructor",type:"Constructor",parameters:p,returns:s})}Date(i={}){return this.Create({...i,[t.Kind]:"Date",type:"Date"})}Function(i,l,a){const[p,s]=[h.Rest(i),h.Type(l)];return this.Create({...a,[t.Kind]:"Function",type:"Function",parameters:p,returns:s})}InstanceType(i,l={}){return h.Type(i.returns,l)}Iterator(i,l={}){return this.Create({...l,[t.Kind]:"Iterator",type:"Iterator",items:h.Type(i)})}Parameters(i,l={}){return this.Tuple(i.parameters,{...l})}Promise(i,l={}){return this.Create({...l,[t.Kind]:"Promise",type:"Promise",item:h.Type(i)})}RegExp(i,l={}){const a=T.IsString(i)?i:i.source;return this.Create({...l,[t.Kind]:"String",type:"string",pattern:a})}RegEx(i,l={}){return this.RegExp(i,l)}ReturnType(i,l={}){return h.Type(i.returns,l)}Symbol(i){return this.Create({...i,[t.Kind]:"Symbol",type:"symbol"})}Undefined(i={}){return this.Create({...i,[t.Kind]:"Undefined",type:"undefined"})}Uint8Array(i={}){return this.Create({...i,[t.Kind]:"Uint8Array",type:"Uint8Array"})}Void(i={}){return this.Create({...i,[t.Kind]:"Void",type:"void"})}}t.JavaScriptTypeBuilder=cn,t.JsonType=new Je,t.Type=new cn})(w);w.Type.Object({user:w.Type.Object({id:w.Type.Number(),fullName:w.Type.String(),avatar:w.Type.String()}),stickers:w.Type.Array(w.Type.Object({id:w.Type.Number(),title:w.Type.String(),description:w.Type.String(),author:w.Type.String(),thumbs:w.Type.Array(w.Type.Number()),price:w.Type.Number(),url:w.Type.String(),demoPhotosCount:w.Type.Number(),styles:w.Type.Array(w.Type.Number()),previews:w.Type.Array(w.Type.Tuple([w.Type.Number(),w.Type.Number()])),hasBackground:w.Type.Boolean(),isAnimated:w.Type.Boolean(),isNotAvailable:w.Type.Boolean()})),totalPrice:w.Type.Number(),accessKey:w.Type.String()});const Nr=w.Type.Object({type:w.Type.Literal("background")}),Ur=w.Type.Object({type:w.Type.Literal("thumb"),size:w.Type.String()}),Lr=w.Type.Object({type:w.Type.Literal("preview"),width:w.Type.String(),height:w.Type.String()}),Pr=w.Type.Object({type:w.Type.Literal("demo_photo"),index:w.Type.String()});w.Type.Union([Nr,Ur,Lr,Pr]);const Ar=({accessKey:t,packId:v,type:m,isDevServer:d})=>{const T=`${d?Tn.links.api.dev:Tn.links.api.prod}/stickers/static/${v}`,R=new URLSearchParams({accessKey:t,...m});return T+`?${R.toString()}`},Br=({pack:t,accessKey:v,isDevServer:m})=>{const[d,T]=E.useState(!1),[R,o]=E.useState(null);return E.useEffect(()=>{if(t.thumbs.length===0)return;const K=(u,$)=>{let h=u[0];for(let Y=1;Y<u.length;++Y)Math.abs(u[Y]-$)<Math.abs(h-$)&&(h=u[Y]);return h},G=Ar({accessKey:v,packId:t.id,type:{type:"thumb",size:K(t.thumbs,70).toString()},isDevServer:m});zn.get(G,{responseType:"arraybuffer"}).then(u=>{if("error"in u.data)return;const $=btoa(String.fromCharCode(...new Uint8Array(u.data)));o(`data:image/jpeg;charset=utf-8;base64,${$}`)})},[t.thumbs]),D.jsxs(nn,{open:d,onToggle:K=>{"open"in K.target&&T(!!K.target.open&&!d)},children:[D.jsx(nn.Summary,{multiline:!0,children:t.title}),D.jsx(hn,{before:R===null?t.isAnimated?D.jsx(Mn,{width:70,height:70}):D.jsx(Gn,{width:70,height:70}):D.jsx("img",{src:R}),multiline:!0,disabled:!0,caption:`Автор: ${t.author}`,actions:D.jsx(at,{mode:"horizontal",gap:"s",stretched:!0,children:D.jsx(ln,{mode:"primary",size:"s",onClick:()=>mn.web.redirect(t.url),children:"Открыть в ВКонтакте"})}),children:t.description})]})},$r=({stickers:t,accessKey:v,isDevServer:m})=>{const[d,T]=E.useState(""),R=E.useMemo(()=>{const u=d.toLowerCase();return t.filter(({author:$,description:h,title:Y})=>!!($.toLowerCase().includes(u)||h.toLowerCase().includes(u)||Y.toLowerCase().includes(u)))},[d]),[o,K]=E.useState([]),G=()=>{K(R.slice(0,o.length+10))};return E.useEffect(()=>{K(R.slice(0,10))},[R]),D.jsxs(kn,{children:[D.jsx(yr,{value:d,onChange:u=>T(u.target.value)}),D.jsxs(Er,{dataLength:o.length,next:G,hasMore:o.length!==R.length,loader:D.jsx(pn,{withPadding:!1,children:D.jsx(Kn,{size:"large"})}),scrollThreshold:.5,endMessage:D.jsxs(Yt,{children:[R.length," ",mn.string.declOfNum(R.length,["пак","пака","паков"])]}),children:[o.map((u,$)=>D.jsx(Br,{pack:u,accessKey:v,isDevServer:m},`sticker-${$}`)),o.length!==R.length&&D.jsxs(D.Fragment,{children:[D.jsx(Dn,{size:40}),D.jsx(pn,{withPadding:!1,action:D.jsx(ln,{size:"l",onClick:G,children:"Следующие"})})]})]})]})};export{$r as default};
