import{m as Ce,j as u,R as er,c as dn,u as tr,T as Co,S as Mt,F as Io,r as R,a as qe,b as rr,d as xo,e as bo,t as Fo,H as Ro,f as or,I as Ut,V as kt,g as So,B as de,h as go,n as ir,i as $o,k as Oo,l as Ao,o as wo,p as le,q as Tt,G as Po,P as Gt,s as No,v as cr,w as jo,x as Eo}from"./index-B-L8PC0S.js";import{I as Bo,a as Lo}from"./sticker_smile_outline_28-Dm-DU_r0.js";var Mo=Ce("Icon16Clear","clear_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="clear_16"><path fill-rule="evenodd" d="M16 8A8 8 0 1 0 0 8a8 8 0 0 0 16 0M4.563 4.564a.9.9 0 0 0 0 1.272L6.727 8l-2.164 2.164a.9.9 0 1 0 1.273 1.272L8 9.273l2.164 2.163a.9.9 0 0 0 1.272-1.272L9.273 8l2.163-2.164a.9.9 0 1 0-1.272-1.272L8 6.727 5.836 4.564a.9.9 0 0 0-1.273 0" clip-rule="evenodd" /></symbol>',16,16),Uo=Ce("Icon16SearchOutline","search_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="search_outline_16"><path fill="currentColor" d="M6.5 1a5.5 5.5 0 0 1 4.384 8.823l3.895 3.9a.75.75 0 0 1-1.061 1.06l-3.895-3.9A5.5 5.5 0 1 1 6.5 1m0 1.5a4 4 0 1 0 0 8 4 4 0 0 0 0-8" /></symbol>',16,16),ko=Ce("Icon24ChevronDown","chevron_down_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_down_24"><path d="M12 13.698 6.64 9.232a1 1 0 0 0-1.28 1.536l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.536z" /></symbol>',24,24),To=Ce("Icon24ChevronUp","chevron_up_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="chevron_up_24"><path d="m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z" /></symbol>',24,24);const Go="_ButtonGroup_5kwx9_1",Do="_ButtonGroup_5kwx9_1",zo="_ButtonGroup--stretched_5kwx9_6",Yo="_ButtonGroup--mode-vertical_5kwx9_11",Vo="_ButtonGroup--mode-horizontal_5kwx9_15",Ho="_ButtonGroup--gap-space_5kwx9_29",Ko="_ButtonGroup--gap-s_5kwx9_29",qo="_ButtonGroup--gap-m_5kwx9_39",Wo="_ButtonGroup--align-left_5kwx9_75",Jo="_ButtonGroup--align-center_5kwx9_79",Qo="_ButtonGroup--align-right_5kwx9_83",on={ButtonGroup:Go,buttonGroup:Do,"ButtonGroup--stretched":"_ButtonGroup--stretched_5kwx9_6",buttonGroupStretched:zo,"ButtonGroup--mode-vertical":"_ButtonGroup--mode-vertical_5kwx9_11",buttonGroupModeVertical:Yo,"ButtonGroup--mode-horizontal":"_ButtonGroup--mode-horizontal_5kwx9_15",buttonGroupModeHorizontal:Vo,"ButtonGroup--gap-space":"_ButtonGroup--gap-space_5kwx9_29",buttonGroupGapSpace:Ho,"ButtonGroup--gap-s":"_ButtonGroup--gap-s_5kwx9_29",buttonGroupGapS:Ko,"ButtonGroup--gap-m":"_ButtonGroup--gap-m_5kwx9_39",buttonGroupGapM:qo,"ButtonGroup--align-left":"_ButtonGroup--align-left_5kwx9_75",buttonGroupAlignLeft:Wo,"ButtonGroup--align-center":"_ButtonGroup--align-center_5kwx9_79",buttonGroupAlignCenter:Jo,"ButtonGroup--align-right":"_ButtonGroup--align-right_5kwx9_83",buttonGroupAlignRight:Qo},Xo={vertical:on["ButtonGroup--mode-vertical"],horizontal:on["ButtonGroup--mode-horizontal"]},Zo={space:on["ButtonGroup--gap-space"],s:on["ButtonGroup--gap-s"],m:on["ButtonGroup--gap-m"]},vo={left:on["ButtonGroup--align-left"],center:on["ButtonGroup--align-center"],right:on["ButtonGroup--align-right"]},ni=({mode:n="horizontal",gap:e="m",stretched:t=!1,align:r="left",...o})=>u.jsx(er,{baseClassName:dn(on.ButtonGroup,Xo[n],e!=="none"&&Zo[e],t&&on["ButtonGroup--stretched"],vo[r]),role:"group",...o}),ei="_RichCellIcon_1st52_1",ti="_RichCellIcon_1st52_1",ri={RichCellIcon:ei,richCellIcon:ti},oi=n=>u.jsx(er,{baseClassName:ri.RichCellIcon,...n}),ii="_RichCell_1pxe7_1",ci="_RichCell_1pxe7_1",si="_RichCell--sizeY-compact_1pxe7_12",ui="_RichCell--sizeY-none_1pxe7_17",ai="_RichCell__before_1pxe7_22",li="_RichCell__before_1pxe7_22",pi="_RichCell__in_1pxe7_27",fi="_RichCell__in_1pxe7_27",di="_RichCell__content_1pxe7_36",mi="_RichCell__content_1pxe7_36",_i="_RichCell__content-before_1pxe7_41",hi="_RichCell__content-after_1pxe7_46",yi="_RichCell__content-after--align-start_1pxe7_56",Ci="_RichCell__content-after--align-center_1pxe7_60",Ii="_RichCell__content-after--align-end_1pxe7_64",xi="_RichCell__after-children_1pxe7_68",bi="_RichCell__after-caption_1pxe7_72",Fi="_RichCell__subhead_1pxe7_92",Ri="_RichCell__subhead_1pxe7_92",Si="_RichCell__caption_1pxe7_96",gi="_RichCell__caption_1pxe7_96",$i="_RichCell__children_1pxe7_102",Oi="_RichCell__children_1pxe7_102",Ai="_RichCell--text-ellipsis_1pxe7_106",wi="_RichCell__text_1pxe7_108",Pi="_RichCell__text_1pxe7_108",Ni="_RichCell__bottom_1pxe7_116",ji="_RichCell__bottom_1pxe7_116",Ei="_RichCell__actions_1pxe7_121",Bi="_RichCell__actions_1pxe7_121",g={RichCell:ii,richCell:ci,"RichCell--sizeY-compact":"_RichCell--sizeY-compact_1pxe7_12",richCellSizeYCompact:si,"RichCell--sizeY-none":"_RichCell--sizeY-none_1pxe7_17",richCellSizeYNone:ui,RichCell__before:ai,richCellBefore:li,RichCell__in:pi,richCellIn:fi,RichCell__content:di,richCellContent:mi,"RichCell__content-before":"_RichCell__content-before_1pxe7_41",richCellContentBefore:_i,"RichCell__content-after":"_RichCell__content-after_1pxe7_46",richCellContentAfter:hi,"RichCell__content-after--align-start":"_RichCell__content-after--align-start_1pxe7_56",richCellContentAfterAlignStart:yi,"RichCell__content-after--align-center":"_RichCell__content-after--align-center_1pxe7_60",richCellContentAfterAlignCenter:Ci,"RichCell__content-after--align-end":"_RichCell__content-after--align-end_1pxe7_64",richCellContentAfterAlignEnd:Ii,"RichCell__after-children":"_RichCell__after-children_1pxe7_68",richCellAfterChildren:xi,"RichCell__after-caption":"_RichCell__after-caption_1pxe7_72",richCellAfterCaption:bi,RichCell__subhead:Fi,richCellSubhead:Ri,RichCell__caption:Si,richCellCaption:gi,RichCell__children:$i,richCellChildren:Oi,"RichCell--text-ellipsis":"_RichCell--text-ellipsis_1pxe7_106",richCellTextEllipsis:Ai,RichCell__text:wi,richCellText:Pi,RichCell__bottom:Ni,richCellBottom:ji,RichCell__actions:Ei,richCellActions:Bi},Li={none:g["RichCell--sizeY-none"],compact:g["RichCell--sizeY-compact"]},Mi={start:g["RichCell__content-after--align-start"],center:g["RichCell__content-after--align-center"],end:g["RichCell__content-after--align-end"]},sr=({subhead:n,children:e,text:t,caption:r,before:o,after:c,afterCaption:s,bottom:p,actions:I,multiline:_,className:S,afterAlign:b="start",...T})=>{const{sizeY:X="none"}=tr(),fn=()=>{if(!(!c&&!s))return u.jsxs("div",{className:dn(g["RichCell__content-after"],Mi[b]),children:[c&&u.jsx("div",{className:g["RichCell__after-children"],children:c}),s&&u.jsx("div",{className:g["RichCell__after-caption"],children:s})]})};return u.jsxs(Co,{...T,className:dn(g.RichCell,!_&&g["RichCell--text-ellipsis"],X!=="regular"&&Li[X],S),children:[o&&u.jsx("div",{className:g.RichCell__before,children:o}),u.jsxs("div",{className:g.RichCell__in,children:[u.jsxs("div",{className:g.RichCell__content,children:[u.jsxs("div",{className:g["RichCell__content-before"],children:[n&&u.jsx(Mt,{Component:"div",className:g.RichCell__subhead,children:n}),u.jsx("div",{className:g.RichCell__children,children:e}),t&&u.jsx("div",{className:g.RichCell__text,children:t}),r&&u.jsx(Mt,{Component:"div",className:g.RichCell__caption,children:r})]}),b==="start"&&fn()]}),p&&u.jsx("div",{className:g.RichCell__bottom,children:p}),I&&u.jsx("div",{className:g.RichCell__actions,children:I})]}),b!=="start"&&fn()]})};sr.Icon=oi;const Ui="_Footer_r1xf1_1",ki="_Footer_r1xf1_1",Ti={Footer:Ui,footer:ki},Gi=({children:n,className:e,Component:t="footer",role:r,...o})=>{const c=r??(t==="footer"?"contentinfo":void 0);return u.jsx(Io,{Component:t,role:c,...o,className:dn(Ti.Footer,e),children:n})},Di=(n=!1)=>{const[e,t]=R.useState(n),r=R.useCallback(()=>{t(!0)},[]),o=R.useCallback(()=>{t(!1)},[]),c=R.useCallback(()=>{t(!e)},[e]);return{value:e,setTrue:r,setFalse:o,toggle:c}},zi=(n,e)=>{qe(()=>{if(!n.current)return;const t=n.current.closest("form");if(t)return t.addEventListener("reset",e),()=>{t.removeEventListener("reset",e)}},[n,e])},Yi="_Search_1xot6_1",Vi="_Search_1xot6_1",Hi="_Search--withPadding_1xot6_9",Ki="_Search--sizeY-compact_1xot6_18",qi="_Search--sizeY-none_1xot6_23",Wi="_Search__field_1xot6_28",Ji="_Search__field_1xot6_28",Qi="_Search__label_1xot6_51",Xi="_Search__label_1xot6_51",Zi="_Search__input_1xot6_58",vi="_Search__input_1xot6_58",nc="_Search__nativeInput_1xot6_71",ec="_Search__nativeInput_1xot6_71",tc="_Search--has-after_1xot6_106",rc="_Search--disabled_1xot6_111",oc="_Search__controls_1xot6_141",ic="_Search__controls_1xot6_141",cc="_Search--has-icon_1xot6_154",sc="_Search--has-value_1xot6_159",uc="_Search__icon_1xot6_163",ac="_Search__icon_1xot6_163",lc="_Search__after_1xot6_178",pc="_Search__after_1xot6_178",fc="_Search--focused_1xot6_191",dc="_Search__afterTextClip_1xot6_211",mc="_Search__afterTextClip_1xot6_211",_c="_Search__findButton_1xot6_218",hc="_Search__findButton_1xot6_218",yc="_Group--mode-plain_1xot6_226",P={Search:Yi,search:Vi,"Search--withPadding":"_Search--withPadding_1xot6_9",searchWithPadding:Hi,"Search--sizeY-compact":"_Search--sizeY-compact_1xot6_18",searchSizeYCompact:Ki,"Search--sizeY-none":"_Search--sizeY-none_1xot6_23",searchSizeYNone:qi,Search__field:Wi,searchField:Ji,Search__label:Qi,searchLabel:Xi,Search__input:Zi,searchInput:vi,Search__nativeInput:nc,searchNativeInput:ec,"Search--has-after":"_Search--has-after_1xot6_106",searchHasAfter:tc,"Search--disabled":"_Search--disabled_1xot6_111",searchDisabled:rc,Search__controls:oc,searchControls:ic,"Search--has-icon":"_Search--has-icon_1xot6_154",searchHasIcon:cc,"Search--has-value":"_Search--has-value_1xot6_159",searchHasValue:sc,Search__icon:uc,searchIcon:ac,Search__after:lc,searchAfter:pc,"Search--focused":"_Search--focused_1xot6_191",searchFocused:fc,Search__afterTextClip:dc,searchAfterTextClip:mc,Search__findButton:_c,searchFindButton:hc,"Group--mode-plain":"_Group--mode-plain_1xot6_226",groupModePlain:yc},Cc=({id:n,before:e=u.jsx(Uo,{}),className:t,placeholder:r="Поиск",after:o="Отмена",getRef:c,icon:s,onIconClick:p,style:I,autoComplete:_="off",onChange:S,iconLabel:b,clearLabel:T="Очистить",noPadding:X,getRootRef:fn,findButtonText:ao="Найти",onFindButtonClick:Ot,...Y})=>{const In=rr(c),{value:lo,setTrue:Le,setFalse:Me}=Di(!1),po=R.useId(),At=n||`search-${po}`,[Ue,ke]=R.useState(()=>!!(Y.value||Y.defaultValue)),fo=U=>ke(!!U.currentTarget.value),{sizeY:wt="none"}=tr(),{sizeY:Pt}=xo(),Nt=bo(),jt=Nt==="ios"&&go(o),mo=U=>{Le(),Y.onFocus&&Y.onFocus(U)},_o=U=>{Me(),Y.onBlur&&Y.onBlur(U)},ae=R.useCallback(()=>{var Bt,Lt;const U=(Bt=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"))==null?void 0:Bt.set;U==null||U.call(In.current,"");const Nn=new Event("input",{bubbles:!0});(Lt=In.current)==null||Lt.dispatchEvent(Nn)},[In]),ho=R.useCallback(U=>p==null?void 0:p(U),[p]),yo=R.useCallback(U=>{var Nn;U.preventDefault(),(Nn=In.current)==null||Nn.focus(),Fo()&&ae()},[In,ae]);qe(()=>{Y.value!==void 0&&ke(!!Y.value)},[Y.value]),zi(In,()=>{ke(!!Y.defaultValue)});const Et=(U,Nn={})=>u.jsxs(Ut,{hoverMode:"opacity",onPointerDown:ho,className:P.Search__icon,onFocus:Le,onBlur:Me,onClick:ir,...Nn,children:[u.jsx(kt,{children:b}),U]});return u.jsxs("div",{className:dn("vkuiInternalSearch",P.Search,wt==="none"&&P["Search--sizeY-none"],wt==="compact"&&P["Search--sizeY-compact"],lo&&P["Search--focused"],Ue&&P["Search--has-value"],jt&&P["Search--has-after"],s&&P["Search--has-icon"],Y.disabled&&P["Search--disabled"],!X&&P["Search--withPadding"],t),ref:fn,style:I,children:[u.jsxs("div",{className:P.Search__field,children:[u.jsx("label",{htmlFor:At,className:P.Search__label,children:r}),u.jsxs("div",{className:P.Search__input,children:[e,u.jsx(Ro,{Component:"input",type:"search",level:"1",weight:"3",...Y,id:At,placeholder:r,autoComplete:_,getRootRef:In,className:P.Search__nativeInput,onFocus:mo,onBlur:_o,onChange:or(S,fo)})]}),u.jsxs("div",{className:P.Search__controls,children:[s&&(typeof s=="function"?s(Et):Et(s)),u.jsxs(Ut,{hoverMode:"opacity",onPointerDown:yo,onClick:ae,className:P.Search__icon,tabIndex:Ue?void 0:-1,disabled:Y.disabled,children:[u.jsx(kt,{children:T}),Nt==="ios"?u.jsx(Mo,{}):u.jsx(So,{})]}),Pt.compact&&Ot&&u.jsx(de,{mode:"primary",size:"m",className:dn(P.Search__findButton,Pt.compact.className),focusVisibleMode:"inside",onClick:Ot,tabIndex:Ue?void 0:-1,children:ao})]})]}),jt&&u.jsx("div",{className:P.Search__after,children:u.jsx(de,{mode:"tertiary",size:"m",focusVisibleMode:"inside",hoverMode:"opacity",activeMode:"opacity",onClick:ae,onFocus:Le,onBlur:Me,children:u.jsx("span",{className:P.Search__afterTextClip,children:o})})})]})},We=R.createContext({labelId:"",contentId:"",expanded:!1,onChange:ir}),Ic="_AccordionSummary__icon_ns2se_1",xc="_AccordionSummary__icon_ns2se_1",bc="_AccordionContent_ns2se_5",Fc="_AccordionContent_ns2se_5",Rc="_AccordionContent__in_ns2se_9",Sc="_AccordionContent__in_ns2se_9",gc="_AccordionContent__in--enter_ns2se_24",$c="_animation-accordion-expand_ns2se_1",Oc="_animation-accordion-fade-in_ns2se_1",Ac="_AccordionContent__in--entered_ns2se_34",wc="_AccordionContent__in--exit_ns2se_38",Pc="_animation-accordion-collapse_ns2se_1",Nc="_animation-accordion-fade-out_ns2se_1",jc="_AccordionContent__in--exited_ns2se_48",un={AccordionSummary__icon:Ic,accordionSummaryIcon:xc,AccordionContent:bc,accordionContent:Fc,AccordionContent__in:Rc,accordionContentIn:Sc,"AccordionContent__in--enter":"_AccordionContent__in--enter_ns2se_24",accordionContentInEnter:gc,"animation-accordion-expand":"_animation-accordion-expand_ns2se_1",animationAccordionExpand:$c,"animation-accordion-fade-in":"_animation-accordion-fade-in_ns2se_1",animationAccordionFadeIn:Oc,"AccordionContent__in--entered":"_AccordionContent__in--entered_ns2se_34",accordionContentInEntered:Ac,"AccordionContent__in--exit":"_AccordionContent__in--exit_ns2se_38",accordionContentInExit:wc,"animation-accordion-collapse":"_animation-accordion-collapse_ns2se_1",animationAccordionCollapse:Pc,"animation-accordion-fade-out":"_animation-accordion-fade-out_ns2se_1",animationAccordionFadeOut:Nc,"AccordionContent__in--exited":"_AccordionContent__in--exited_ns2se_48",accordionContentInExited:jc},Dt="--vkui_internal--AccordionContent_height",Ec={enter:un["AccordionContent__in--enter"],entering:un["AccordionContent__in--enter"],entered:un["AccordionContent__in--entered"],exit:un["AccordionContent__in--exit"],exiting:un["AccordionContent__in--exit"],exited:un["AccordionContent__in--exited"]},ur=({getRootRef:n,getRef:e,className:t,children:r,...o})=>{const{expanded:c,labelId:s,contentId:p}=R.useContext(We),I=rr(e),[_,S]=$o(c?"enter":"exit",void 0,!0);return qe(()=>{const b=I.current;if(b)switch(_){case"enter":case"exit":b.style.setProperty(Dt,`${b.scrollHeight}px`);break;case"entered":case"exited":b.style.removeProperty(Dt);break}},[_,I]),u.jsx("div",{ref:n,id:p,role:"region","aria-labelledby":s,"aria-hidden":!c,className:dn(un.AccordionContent,t),...o,children:u.jsx("div",{ref:I,className:dn(un.AccordionContent__in,Ec[_]),...S,children:r})})};ur.displayName="AccordionContent";const ar=({after:n,before:e,ExpandIcon:t=ko,CollapseIcon:r=To,iconPosition:o="after",onClick:c,children:s,...p})=>{const{expanded:I,labelId:_,contentId:S,onChange:b}=R.useContext(We),T=I?r:t,X=u.jsx("span",{className:"vkuiIcon",children:u.jsx(T,{className:un.AccordionSummary__icon})}),fn=()=>b(!I);return u.jsx(Oo,{id:_,"aria-expanded":I,"aria-controls":S,onClick:or(fn,c),before:u.jsxs(u.Fragment,{children:[o==="before"&&X,e]}),after:u.jsxs(u.Fragment,{children:[n,o==="after"&&X]}),...p,children:s})};ar.displayName="AccordionSummary";function Bc(n){const e=R.useId(),t=n??`Accordion${e}`,r=`AccordionContent${n??e}`;return{labelId:t,contentId:r}}const xn=({id:n,expanded:e,defaultExpanded:t=!1,onChange:r,children:o,...c})=>{const{labelId:s,contentId:p}=Bc(n),[I,_]=Ao({value:e,defaultValue:t,onChange:r,disabled:c.disabled}),S=wo({labelId:s,contentId:p,expanded:I||!1,onChange:_});return u.jsx(We.Provider,{value:S,children:o})};xn.displayName="Accordion";xn.Summary=ar;xn.Summary.displayName="Accordion.Summary";xn.Content=ur;xn.Content.displayName="Accordion.Content";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ge=function(n,e){return Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])},Ge(n,e)};function Lc(n,e){Ge(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vn=function(){return Vn=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Vn.apply(this,arguments)};function Mc(n,e,t,r){var o,c=!1,s=0;function p(){o&&clearTimeout(o)}function I(){p(),c=!0}typeof e!="boolean"&&(r=t,t=e,e=void 0);function _(){var S=this,b=Date.now()-s,T=arguments;if(c)return;function X(){s=Date.now(),t.apply(S,T)}function fn(){o=void 0}r&&!o&&X(),p(),r===void 0&&b>n?X():e!==!0&&(o=setTimeout(r?fn:X,r===void 0?n-b:n))}return _.cancel=I,_}var jn={Pixel:"Pixel",Percent:"Percent"},zt={unit:jn.Percent,value:.8};function Yt(n){return typeof n=="number"?{unit:jn.Percent,value:n*100}:typeof n=="string"?n.match(/^(\d*(\.\d+)?)px$/)?{unit:jn.Pixel,value:parseFloat(n)}:n.match(/^(\d*(\.\d+)?)%$/)?{unit:jn.Percent,value:parseFloat(n)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),zt):(console.warn("scrollThreshold should be string or number"),zt)}var Uc=function(n){Lc(e,n);function e(t){var r=n.call(this,t)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(o){r.lastScrollTop||(r.dragging=!0,o instanceof MouseEvent?r.startY=o.pageY:o instanceof TouchEvent&&(r.startY=o.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(o){r.dragging&&(o instanceof MouseEvent?r.currentY=o.pageY:o instanceof TouchEvent&&(r.currentY=o.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(o){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(o)},0);var c=r.props.height||r._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var s=r.props.inverse?r.isElementAtTop(c,r.props.scrollThreshold):r.isElementAtBottom(c,r.props.scrollThreshold);s&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=c.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},r.throttledOnScrollListener=Mc(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(t){this.props.dataLength!==t.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(t,r){var o=t.dataLength!==r.prevDataLength;return o?Vn(Vn({},r),{prevDataLength:t.dataLength}):null},e.prototype.isElementAtTop=function(t,r){r===void 0&&(r=.8);var o=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,c=Yt(r);return c.unit===jn.Pixel?t.scrollTop<=c.value+o-t.scrollHeight+1:t.scrollTop<=c.value/100+o-t.scrollHeight+1},e.prototype.isElementAtBottom=function(t,r){r===void 0&&(r=.8);var o=t===document.body||t===document.documentElement?window.screen.availHeight:t.clientHeight,c=Yt(r);return c.unit===jn.Pixel?t.scrollTop+o>=t.scrollHeight-c.value:t.scrollTop+o>=c.value/100*t.scrollHeight},e.prototype.render=function(){var t=this,r=Vn({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),c=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return le.createElement("div",{style:c,className:"infinite-scroll-component__outerdiv"},le.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return t._infScroll=s},style:r},this.props.pullDownToRefresh&&le.createElement("div",{style:{position:"relative"},ref:function(s){return t._pullDown=s}},le.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(R.Component);function kc(n){return $(n)&&!en(n)&&!ne(n)&&Symbol.asyncIterator in n}function en(n){return Array.isArray(n)}function lr(n){return typeof n=="bigint"}function Ie(n){return typeof n=="boolean"}function Je(n){return n instanceof globalThis.Date}function Tc(n){return typeof n=="function"}function Gc(n){return $(n)&&!en(n)&&!ne(n)&&Symbol.iterator in n}function Dc(n){return n===null}function mn(n){return typeof n=="number"}function $(n){return typeof n=="object"&&n!==null}function pr(n){return n instanceof globalThis.RegExp}function O(n){return typeof n=="string"}function zc(n){return typeof n=="symbol"}function ne(n){return n instanceof globalThis.Uint8Array}function F(n){return n===void 0}function Yc(n){return n.map(e=>me(e))}function Vc(n){return new Date(n.getTime())}function Hc(n){return new Uint8Array(n)}function Kc(n){return new RegExp(n.source,n.flags)}function qc(n){const e={};for(const t of Object.getOwnPropertyNames(n))e[t]=me(n[t]);for(const t of Object.getOwnPropertySymbols(n))e[t]=me(n[t]);return e}function me(n){return en(n)?Yc(n):Je(n)?Vc(n):ne(n)?Hc(n):pr(n)?Kc(n):$(n)?qc(n):n}function V(n){return me(n)}function Wc(n){return n.map(e=>Qe(e))}function Qe(n,e){return V(e===void 0?n:{...e,...n})}function Jc(n){return n!==null&&typeof n=="object"}function Qc(n){return Array.isArray(n)&&!ArrayBuffer.isView(n)}function Xc(n){return n===void 0}function Zc(n){return typeof n=="number"}var De;(function(n){n.InstanceMode="default",n.ExactOptionalPropertyTypes=!1,n.AllowArrayObject=!1,n.AllowNaN=!1,n.AllowNullVoid=!1;function e(s,p){return n.ExactOptionalPropertyTypes?p in s:s[p]!==void 0}n.IsExactOptionalProperty=e;function t(s){const p=Jc(s);return n.AllowArrayObject?p:p&&!Qc(s)}n.IsObjectLike=t;function r(s){return t(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}n.IsRecordLike=r;function o(s){return n.AllowNaN?Zc(s):Number.isFinite(s)}n.IsNumberLike=o;function c(s){const p=Xc(s);return n.AllowNullVoid?p||s===null:p}n.IsVoidLike=c})(De||(De={}));function vc(n){return globalThis.Object.freeze(n).map(e=>_e(e))}function ns(n){const e={};for(const t of Object.getOwnPropertyNames(n))e[t]=_e(n[t]);for(const t of Object.getOwnPropertySymbols(n))e[t]=_e(n[t]);return globalThis.Object.freeze(e)}function _e(n){return en(n)?vc(n):Je(n)?n:ne(n)?n:pr(n)?n:$(n)?ns(n):n}function a(n,e){const t=e!==void 0?{...e,...n}:n;switch(De.InstanceMode){case"freeze":return _e(t);case"clone":return V(t);default:return t}}class ee extends Error{constructor(e){super(e)}}const rn=Symbol.for("TypeBox.Transform"),xe=Symbol.for("TypeBox.Readonly"),_n=Symbol.for("TypeBox.Optional"),be=Symbol.for("TypeBox.Hint"),l=Symbol.for("TypeBox.Kind");function es(n){return $(n)&&n[xe]==="Readonly"}function Mn(n){return $(n)&&n[_n]==="Optional"}function fr(n){return d(n,"Any")}function te(n){return d(n,"Array")}function Xe(n){return d(n,"AsyncIterator")}function dr(n){return d(n,"BigInt")}function mr(n){return d(n,"Boolean")}function Ze(n){return d(n,"Constructor")}function ts(n){return d(n,"Date")}function ve(n){return d(n,"Function")}function Fe(n){return d(n,"Integer")}function tn(n){return d(n,"Intersect")}function nt(n){return d(n,"Iterator")}function d(n,e){return $(n)&&l in n&&n[l]===e}function re(n){return d(n,"Literal")}function Fn(n){return d(n,"MappedKey")}function H(n){return d(n,"MappedResult")}function oe(n){return d(n,"Never")}function rs(n){return d(n,"Not")}function os(n){return d(n,"Null")}function Re(n){return d(n,"Number")}function cn(n){return d(n,"Object")}function Se(n){return d(n,"Promise")}function _r(n){return d(n,"Record")}function hr(n){return d(n,"Ref")}function yr(n){return d(n,"RegExp")}function et(n){return d(n,"String")}function is(n){return d(n,"Symbol")}function Rn(n){return d(n,"TemplateLiteral")}function cs(n){return d(n,"This")}function tt(n){return $(n)&&rn in n}function Un(n){return d(n,"Tuple")}function ss(n){return d(n,"Undefined")}function E(n){return d(n,"Union")}function us(n){return d(n,"Uint8Array")}function as(n){return d(n,"Unknown")}function ls(n){return d(n,"Unsafe")}function ps(n){return d(n,"Void")}function fs(n){return $(n)&&l in n&&O(n[l])}function En(n){return fr(n)||te(n)||mr(n)||dr(n)||Xe(n)||Ze(n)||ts(n)||ve(n)||Fe(n)||tn(n)||nt(n)||re(n)||Fn(n)||H(n)||oe(n)||rs(n)||os(n)||Re(n)||cn(n)||Se(n)||_r(n)||hr(n)||yr(n)||et(n)||is(n)||Rn(n)||cs(n)||Un(n)||ss(n)||E(n)||us(n)||as(n)||ls(n)||ps(n)||fs(n)}const ds=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Cr(n){try{return new RegExp(n),!0}catch{return!1}}function rt(n){if(!O(n))return!1;for(let e=0;e<n.length;e++){const t=n.charCodeAt(e);if(t>=7&&t<=13||t===27||t===127)return!1}return!0}function Ir(n){return ot(n)||L(n)}function zn(n){return F(n)||lr(n)}function C(n){return F(n)||mn(n)}function ot(n){return F(n)||Ie(n)}function y(n){return F(n)||O(n)}function ms(n){return F(n)||O(n)&&rt(n)&&Cr(n)}function _s(n){return F(n)||O(n)&&rt(n)}function xr(n){return F(n)||L(n)}function he(n){return $(n)&&n[_n]==="Optional"}function Z(n){return m(n,"Any")&&y(n.$id)}function Sn(n){return m(n,"Array")&&n.type==="array"&&y(n.$id)&&L(n.items)&&C(n.minItems)&&C(n.maxItems)&&ot(n.uniqueItems)&&xr(n.contains)&&C(n.minContains)&&C(n.maxContains)}function it(n){return m(n,"AsyncIterator")&&n.type==="AsyncIterator"&&y(n.$id)&&L(n.items)}function ge(n){return m(n,"BigInt")&&n.type==="bigint"&&y(n.$id)&&zn(n.exclusiveMaximum)&&zn(n.exclusiveMinimum)&&zn(n.maximum)&&zn(n.minimum)&&zn(n.multipleOf)}function gn(n){return m(n,"Boolean")&&n.type==="boolean"&&y(n.$id)}function $e(n){return m(n,"Constructor")&&n.type==="Constructor"&&y(n.$id)&&en(n.parameters)&&n.parameters.every(e=>L(e))&&L(n.returns)}function Oe(n){return m(n,"Date")&&n.type==="Date"&&y(n.$id)&&C(n.exclusiveMaximumTimestamp)&&C(n.exclusiveMinimumTimestamp)&&C(n.maximumTimestamp)&&C(n.minimumTimestamp)&&C(n.multipleOfTimestamp)}function Ae(n){return m(n,"Function")&&n.type==="Function"&&y(n.$id)&&en(n.parameters)&&n.parameters.every(e=>L(e))&&L(n.returns)}function pn(n){return m(n,"Integer")&&n.type==="integer"&&y(n.$id)&&C(n.exclusiveMaximum)&&C(n.exclusiveMinimum)&&C(n.maximum)&&C(n.minimum)&&C(n.multipleOf)}function br(n){return $(n)&&Object.entries(n).every(([e,t])=>rt(e)&&L(t))}function $n(n){return m(n,"Intersect")&&!(O(n.type)&&n.type!=="object")&&en(n.allOf)&&n.allOf.every(e=>L(e)&&!bs(e))&&y(n.type)&&(ot(n.unevaluatedProperties)||xr(n.unevaluatedProperties))&&y(n.$id)}function ct(n){return m(n,"Iterator")&&n.type==="Iterator"&&y(n.$id)&&L(n.items)}function m(n,e){return $(n)&&l in n&&n[l]===e}function Fr(n){return hn(n)&&O(n.const)}function Rr(n){return hn(n)&&mn(n.const)}function Sr(n){return hn(n)&&Ie(n.const)}function hn(n){return m(n,"Literal")&&y(n.$id)&&hs(n.const)}function hs(n){return Ie(n)||mn(n)||O(n)}function ys(n){return m(n,"MappedKey")&&en(n.keys)&&n.keys.every(e=>mn(e)||O(e))}function Cs(n){return m(n,"MappedResult")&&br(n.properties)}function yn(n){return m(n,"Never")&&$(n.not)&&Object.getOwnPropertyNames(n.not).length===0}function Bn(n){return m(n,"Not")&&L(n.not)}function st(n){return m(n,"Null")&&n.type==="null"&&y(n.$id)}function G(n){return m(n,"Number")&&n.type==="number"&&y(n.$id)&&C(n.exclusiveMaximum)&&C(n.exclusiveMinimum)&&C(n.maximum)&&C(n.minimum)&&C(n.multipleOf)}function x(n){return m(n,"Object")&&n.type==="object"&&y(n.$id)&&br(n.properties)&&Ir(n.additionalProperties)&&C(n.minProperties)&&C(n.maxProperties)}function ut(n){return m(n,"Promise")&&n.type==="Promise"&&y(n.$id)&&L(n.item)}function j(n){return m(n,"Record")&&n.type==="object"&&y(n.$id)&&Ir(n.additionalProperties)&&$(n.patternProperties)&&(e=>{const t=Object.getOwnPropertyNames(e.patternProperties);return t.length===1&&Cr(t[0])&&$(e.patternProperties)&&L(e.patternProperties[t[0]])})(n)}function Is(n){return m(n,"Ref")&&y(n.$id)&&O(n.$ref)}function Hn(n){return m(n,"RegExp")&&y(n.$id)&&O(n.source)&&O(n.flags)&&C(n.maxLength)&&C(n.minLength)}function v(n){return m(n,"String")&&n.type==="string"&&y(n.$id)&&C(n.minLength)&&C(n.maxLength)&&ms(n.pattern)&&_s(n.format)}function Kn(n){return m(n,"Symbol")&&n.type==="symbol"&&y(n.$id)}function qn(n){return m(n,"TemplateLiteral")&&n.type==="string"&&O(n.pattern)&&n.pattern[0]==="^"&&n.pattern[n.pattern.length-1]==="$"}function xs(n){return m(n,"This")&&y(n.$id)&&O(n.$ref)}function bs(n){return $(n)&&rn in n}function we(n){return m(n,"Tuple")&&n.type==="array"&&y(n.$id)&&mn(n.minItems)&&mn(n.maxItems)&&n.minItems===n.maxItems&&(F(n.items)&&F(n.additionalItems)&&n.minItems===0||en(n.items)&&n.items.every(e=>L(e)))}function bn(n){return m(n,"Undefined")&&n.type==="undefined"&&y(n.$id)}function ln(n){return m(n,"Union")&&y(n.$id)&&$(n)&&en(n.anyOf)&&n.anyOf.every(e=>L(e))}function ie(n){return m(n,"Uint8Array")&&n.type==="Uint8Array"&&y(n.$id)&&C(n.minByteLength)&&C(n.maxByteLength)}function nn(n){return m(n,"Unknown")&&y(n.$id)}function Fs(n){return m(n,"Unsafe")}function Pe(n){return m(n,"Void")&&n.type==="void"&&y(n.$id)}function Rs(n){return $(n)&&l in n&&O(n[l])&&!ds.includes(n[l])}function L(n){return $(n)&&(Z(n)||Sn(n)||gn(n)||ge(n)||it(n)||$e(n)||Oe(n)||Ae(n)||pn(n)||$n(n)||ct(n)||hn(n)||ys(n)||Cs(n)||yn(n)||Bn(n)||st(n)||G(n)||x(n)||ut(n)||j(n)||Is(n)||Hn(n)||v(n)||Kn(n)||qn(n)||xs(n)||we(n)||bn(n)||ln(n)||ie(n)||nn(n)||Fs(n)||Pe(n)||Rs(n))}const Ss="(true|false)",fe="(0|[1-9][0-9]*)",gr="(.*)",gs="(?!.*)",Wn=`^${fe}$`,Jn=`^${gr}$`,$s=`^${gs}$`;function Os(n,e){return n.includes(e)}function As(n){return[...new Set(n)]}function ws(n,e){return n.filter(t=>e.includes(t))}function Ps(n,e){return n.reduce((t,r)=>ws(t,r),e)}function Ns(n){return n.length===1?n[0]:n.length>1?Ps(n.slice(1),n[0]):[]}function js(n){const e=[];for(const t of n)e.push(...t);return e}function Qn(n){return a({[l]:"Any"},n)}function $r(n,e){return a({[l]:"Array",type:"array",items:n},e)}function Or(n,e){return a({[l]:"AsyncIterator",type:"AsyncIterator",items:n},e)}function Es(n,e){const{[e]:t,...r}=n;return r}function W(n,e){return e.reduce((t,r)=>Es(t,r),n)}function K(n){return a({[l]:"Never",not:{}},n)}function B(n){return a({[l]:"MappedResult",properties:n})}function Ar(n,e,t){return a({[l]:"Constructor",type:"Constructor",parameters:n,returns:e},t)}function Ne(n,e,t){return a({[l]:"Function",type:"Function",parameters:n,returns:e},t)}function ze(n,e){return a({[l]:"Union",anyOf:n},e)}function Bs(n){return n.some(e=>Mn(e))}function Vt(n){return n.map(e=>Mn(e)?Ls(e):e)}function Ls(n){return W(n,[_n])}function Ms(n,e){return Bs(n)?An(ze(Vt(n),e)):ze(Vt(n),e)}function kn(n,e){return n.length===0?K(e):n.length===1?a(n[0],e):Ms(n,e)}function z(n,e){return n.length===0?K(e):n.length===1?a(n[0],e):ze(n,e)}class Ht extends ee{}function Us(n){return n.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function at(n,e,t){return n[e]===t&&n.charCodeAt(e-1)!==92}function an(n,e){return at(n,e,"(")}function Xn(n,e){return at(n,e,")")}function wr(n,e){return at(n,e,"|")}function ks(n){if(!(an(n,0)&&Xn(n,n.length-1)))return!1;let e=0;for(let t=0;t<n.length;t++)if(an(n,t)&&(e+=1),Xn(n,t)&&(e-=1),e===0&&t!==n.length-1)return!1;return!0}function Ts(n){return n.slice(1,n.length-1)}function Gs(n){let e=0;for(let t=0;t<n.length;t++)if(an(n,t)&&(e+=1),Xn(n,t)&&(e-=1),wr(n,t)&&e===0)return!0;return!1}function Ds(n){for(let e=0;e<n.length;e++)if(an(n,e))return!0;return!1}function zs(n){let[e,t]=[0,0];const r=[];for(let c=0;c<n.length;c++)if(an(n,c)&&(e+=1),Xn(n,c)&&(e-=1),wr(n,c)&&e===0){const s=n.slice(t,c);s.length>0&&r.push(Ln(s)),t=c+1}const o=n.slice(t);return o.length>0&&r.push(Ln(o)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function Ys(n){function e(o,c){if(!an(o,c))throw new Ht("TemplateLiteralParser: Index must point to open parens");let s=0;for(let p=c;p<o.length;p++)if(an(o,p)&&(s+=1),Xn(o,p)&&(s-=1),s===0)return[c,p];throw new Ht("TemplateLiteralParser: Unclosed group parens in expression")}function t(o,c){for(let s=c;s<o.length;s++)if(an(o,s))return[c,s];return[c,o.length]}const r=[];for(let o=0;o<n.length;o++)if(an(n,o)){const[c,s]=e(n,o),p=n.slice(c,s+1);r.push(Ln(p)),o=s}else{const[c,s]=t(n,o),p=n.slice(c,s);p.length>0&&r.push(Ln(p)),o=s-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function Ln(n){return ks(n)?Ln(Ts(n)):Gs(n)?zs(n):Ds(n)?Ys(n):{type:"const",const:Us(n)}}function lt(n){return Ln(n.slice(1,n.length-1))}class Vs extends ee{}function Hs(n){return n.type==="or"&&n.expr.length===2&&n.expr[0].type==="const"&&n.expr[0].const==="0"&&n.expr[1].type==="const"&&n.expr[1].const==="[1-9][0-9]*"}function Ks(n){return n.type==="or"&&n.expr.length===2&&n.expr[0].type==="const"&&n.expr[0].const==="true"&&n.expr[1].type==="const"&&n.expr[1].const==="false"}function qs(n){return n.type==="const"&&n.const===".*"}function Zn(n){return Hs(n)||qs(n)?!1:Ks(n)?!0:n.type==="and"?n.expr.every(e=>Zn(e)):n.type==="or"?n.expr.every(e=>Zn(e)):n.type==="const"?!0:(()=>{throw new Vs("Unknown expression type")})()}function Ws(n){const e=lt(n.pattern);return Zn(e)}class Js extends ee{}function*Pr(n){if(n.length===1)return yield*n[0];for(const e of n[0])for(const t of Pr(n.slice(1)))yield`${e}${t}`}function*Qs(n){return yield*Pr(n.expr.map(e=>[...je(e)]))}function*Xs(n){for(const e of n.expr)yield*je(e)}function*Zs(n){return yield n.const}function*je(n){return n.type==="and"?yield*Qs(n):n.type==="or"?yield*Xs(n):n.type==="const"?yield*Zs(n):(()=>{throw new Js("Unknown expression")})()}function Nr(n){const e=lt(n.pattern);return Zn(e)?[...je(e)]:[]}function N(n,e){return a({[l]:"Literal",const:n,type:typeof n},e)}function jr(n){return a({[l]:"Boolean",type:"boolean"},n)}function pt(n){return a({[l]:"BigInt",type:"bigint"},n)}function Tn(n){return a({[l]:"Number",type:"number"},n)}function vn(n){return a({[l]:"String",type:"string"},n)}function*vs(n){const e=n.trim().replace(/"|'/g,"");return e==="boolean"?yield jr():e==="number"?yield Tn():e==="bigint"?yield pt():e==="string"?yield vn():yield(()=>{const t=e.split("|").map(r=>N(r.trim()));return t.length===0?K():t.length===1?t[0]:kn(t)})()}function*nu(n){if(n[1]!=="{"){const e=N("$"),t=Ye(n.slice(1));return yield*[e,...t]}for(let e=2;e<n.length;e++)if(n[e]==="}"){const t=vs(n.slice(2,e)),r=Ye(n.slice(e+1));return yield*[...t,...r]}yield N(n)}function*Ye(n){for(let e=0;e<n.length;e++)if(n[e]==="$"){const t=N(n.slice(0,e)),r=nu(n.slice(e));return yield*[t,...r]}yield N(n)}function eu(n){return[...Ye(n)]}class tu extends ee{}function ru(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Er(n,e){return Rn(n)?n.pattern.slice(1,n.pattern.length-1):E(n)?`(${n.anyOf.map(t=>Er(t,e)).join("|")})`:Re(n)?`${e}${fe}`:Fe(n)?`${e}${fe}`:dr(n)?`${e}${fe}`:et(n)?`${e}${gr}`:re(n)?`${e}${ru(n.const.toString())}`:mr(n)?`${e}${Ss}`:(()=>{throw new tu(`Unexpected Kind '${n[l]}'`)})()}function Kt(n){return`^${n.map(e=>Er(e,"")).join("")}$`}function ye(n){const t=Nr(n).map(r=>N(r));return kn(t)}function Br(n,e){const t=O(n)?Kt(eu(n)):Kt(n);return a({[l]:"TemplateLiteral",type:"string",pattern:t},e)}function ou(n){return Nr(n).map(t=>t.toString())}function iu(n){const e=[];for(const t of n)e.push(...Cn(t));return e}function cu(n){return[n.toString()]}function Cn(n){return[...new Set(Rn(n)?ou(n):E(n)?iu(n.anyOf):re(n)?cu(n.const):Re(n)?["[number]"]:Fe(n)?["[number]"]:[])]}function su(n,e,t){const r={};for(const o of Object.getOwnPropertyNames(e))r[o]=ft(n,Cn(e[o]),t);return r}function uu(n,e,t){return su(n,e.properties,t)}function au(n,e,t){const r=uu(n,e,t);return B(r)}function Lr(n,e){return n.map(t=>Mr(t,e))}function lu(n){return n.filter(e=>!oe(e))}function pu(n,e){return Dr(lu(Lr(n,e)))}function fu(n){return n.some(e=>oe(e))?[]:n}function du(n,e){return kn(fu(Lr(n,e)))}function mu(n,e){return e in n?n[e]:e==="[number]"?kn(n):K()}function _u(n,e){return e==="[number]"?n:K()}function hu(n,e){return e in n?n[e]:K()}function Mr(n,e){return tn(n)?pu(n.allOf,e):E(n)?du(n.anyOf,e):Un(n)?mu(n.items??[],e):te(n)?_u(n.items,e):cn(n)?hu(n.properties,e):K()}function Ur(n,e){return e.map(t=>Mr(n,t))}function qt(n,e){return kn(Ur(n,e))}function ft(n,e,t){return H(e)?au(n,e,t):Fn(e)?xu(n,e,t):a(En(e)?qt(n,Cn(e)):qt(n,e),t)}function yu(n,e,t){return{[e]:ft(n,[e],V(t))}}function Cu(n,e,t){return e.reduce((r,o)=>({...r,...yu(n,o,t)}),{})}function Iu(n,e,t){return Cu(n,e.keys,t)}function xu(n,e,t){const r=Iu(n,e,t);return B(r)}function kr(n,e){return a({[l]:"Iterator",type:"Iterator",items:n},e)}function bu(n){const e=[];for(let t in n)Mn(n[t])||e.push(t);return e}function Fu(n,e){const t=bu(n),r=t.length>0?{[l]:"Object",type:"object",properties:n,required:t}:{[l]:"Object",type:"object",properties:n};return a(r,e)}var k=Fu;function Tr(n,e){return a({[l]:"Promise",type:"Promise",item:n},e)}function Ru(n){return a(W(n,[xe]))}function Su(n){return a({...n,[xe]:"Readonly"})}function gu(n,e){return e===!1?Ru(n):Su(n)}function On(n,e){const t=e??!0;return H(n)?Au(n,t):gu(n,t)}function $u(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=On(n[r],e);return t}function Ou(n,e){return $u(n.properties,e)}function Au(n,e){const t=Ou(n,e);return B(t)}function ce(n,e){return a(n.length>0?{[l]:"Tuple",type:"array",items:n,additionalItems:!1,minItems:n.length,maxItems:n.length}:{[l]:"Tuple",type:"array",minItems:n.length,maxItems:n.length},e)}function Gr(n,e){return n in e?q(n,e[n]):B(e)}function wu(n){return{[n]:N(n)}}function Pu(n){const e={};for(const t of n)e[t]=N(t);return e}function Nu(n,e){return Os(e,n)?wu(n):Pu(e)}function ju(n,e){const t=Nu(n,e);return Gr(n,t)}function Yn(n,e){return e.map(t=>q(n,t))}function Eu(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(e))t[r]=q(n,e[r]);return t}function q(n,e){const t={...e};return Mn(e)?An(q(n,W(e,[_n]))):es(e)?On(q(n,W(e,[xe]))):H(e)?Gr(n,e.properties):Fn(e)?ju(n,e.keys):Ze(e)?Ar(Yn(n,e.parameters),q(n,e.returns),t):ve(e)?Ne(Yn(n,e.parameters),q(n,e.returns),t):Xe(e)?Or(q(n,e.items),t):nt(e)?kr(q(n,e.items),t):tn(e)?wn(Yn(n,e.allOf),t):E(e)?z(Yn(n,e.anyOf),t):Un(e)?ce(Yn(n,e.items??[]),t):cn(e)?k(Eu(n,e.properties),t):te(e)?$r(q(n,e.items),t):Se(e)?Tr(q(n,e.item),t):e}function Bu(n,e){const t={};for(const r of n)t[r]=q(r,e);return t}function Lu(n,e,t){const r=En(n)?Cn(n):n,o=e({[l]:"MappedKey",keys:r}),c=Bu(r,o);return k(c,t)}function Mu(n){return a(W(n,[_n]))}function Uu(n){return a({...n,[_n]:"Optional"})}function ku(n,e){return e===!1?Mu(n):Uu(n)}function An(n,e){const t=e??!0;return H(n)?Du(n,t):ku(n,t)}function Tu(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=An(n[r],e);return t}function Gu(n,e){return Tu(n.properties,e)}function Du(n,e){const t=Gu(n,e);return B(t)}function Ve(n,e={}){const t=n.every(o=>cn(o)),r=En(e.unevaluatedProperties)?{unevaluatedProperties:e.unevaluatedProperties}:{};return a(e.unevaluatedProperties===!1||En(e.unevaluatedProperties)||t?{...r,[l]:"Intersect",type:"object",allOf:n}:{...r,[l]:"Intersect",allOf:n},e)}function zu(n){return n.every(e=>Mn(e))}function Yu(n){return W(n,[_n])}function Wt(n){return n.map(e=>Mn(e)?Yu(e):e)}function Vu(n,e){return zu(n)?An(Ve(Wt(n),e)):Ve(Wt(n),e)}function Dr(n,e={}){if(n.length===0)return K(e);if(n.length===1)return a(n[0],e);if(n.some(t=>tt(t)))throw new Error("Cannot intersect transform types");return Vu(n,e)}function wn(n,e){if(n.length===0)return K(e);if(n.length===1)return a(n[0],e);if(n.some(t=>tt(t)))throw new Error("Cannot intersect transform types");return Ve(n,e)}function zr(n){return n.map(e=>dt(e))}function Hu(n){return wn(zr(n))}function Ku(n){return z(zr(n))}function qu(n){return dt(n)}function dt(n){return tn(n)?Hu(n.allOf):E(n)?Ku(n.anyOf):Se(n)?qu(n.item):n}function Wu(n,e){return a(dt(n),e)}function Yr(n){const e=[];for(const t of n)e.push(mt(t));return e}function Ju(n){const e=Yr(n);return js(e)}function Qu(n){const e=Yr(n);return Ns(e)}function Xu(n){return n.map((e,t)=>t.toString())}function Zu(n){return["[number]"]}function vu(n){return globalThis.Object.getOwnPropertyNames(n)}function na(n){return[]}function mt(n){return tn(n)?Ju(n.allOf):E(n)?Qu(n.anyOf):Un(n)?Xu(n.items??[]):te(n)?Zu(n.items):cn(n)?vu(n.properties):_r(n)?na(n.patternProperties):[]}function ea(n){return n.map(e=>e==="[number]"?Tn():N(e))}function Vr(n,e){if(H(n))return oa(n,e);{const t=mt(n),r=ea(t),o=kn(r);return a(o,e)}}function ta(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=Vr(n[r],V(e));return t}function ra(n,e){return ta(n.properties,e)}function oa(n,e){const t=ra(n,e);return B(t)}function ia(n){const e=[];for(const t of n)e.push(...mt(t));return As(e)}function ca(n){return n.filter(e=>!oe(e))}function sa(n,e){const t=[];for(const r of n)t.push(...Ur(r,[e]));return ca(t)}function ua(n,e){const t={};for(const r of e)t[r]=Dr(sa(n,r));return t}function aa(n,e){const t=ia(n),r=ua(n,t);return k(r,e)}function Hr(n){return a({[l]:"Date",type:"Date"},n)}function Kr(n){return a({[l]:"Null",type:"null"},n)}function qr(n){return a({[l]:"Symbol",type:"symbol"},n)}function Wr(n){return a({[l]:"Undefined",type:"undefined"},n)}function Jr(n){return a({[l]:"Uint8Array",type:"Uint8Array"},n)}function _t(n){return a({[l]:"Unknown"},n)}function la(n){return n.map(e=>ht(e,!1))}function pa(n){const e={};for(const t of globalThis.Object.getOwnPropertyNames(n))e[t]=On(ht(n[t],!1));return e}function pe(n,e){return e===!0?n:On(n)}function ht(n,e){return kc(n)||Gc(n)?pe(Qn(),e):en(n)?On(ce(la(n))):ne(n)?Jr():Je(n)?Hr():$(n)?pe(k(pa(n)),e):Tc(n)?pe(Ne([],_t()),e):F(n)?Wr():Dc(n)?Kr():zc(n)?qr():lr(n)?pt():mn(n)||Ie(n)||O(n)?N(n):k({})}function fa(n,e){return a(ht(n,!0),e)}function da(n,e){return ce(n.parameters,e)}function se(n,e){return n.map(t=>sn(t,e))}function ma(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=sn(n[r],e);return t}function _a(n,e){return n.parameters=se(n.parameters,e),n.returns=sn(n.returns,e),n}function ha(n,e){return n.parameters=se(n.parameters,e),n.returns=sn(n.returns,e),n}function ya(n,e){return n.allOf=se(n.allOf,e),n}function Ca(n,e){return n.anyOf=se(n.anyOf,e),n}function Ia(n,e){return F(n.items)||(n.items=se(n.items,e)),n}function xa(n,e){return n.items=sn(n.items,e),n}function ba(n,e){return n.properties=ma(n.properties,e),n}function Fa(n,e){return n.item=sn(n.item,e),n}function Ra(n,e){return n.items=sn(n.items,e),n}function Sa(n,e){return n.items=sn(n.items,e),n}function ga(n,e){const t=e.find(o=>o.$id===n.$ref);if(t===void 0)throw Error(`Unable to dereference schema with $id ${n.$ref}`);const r=W(t,["$id"]);return sn(r,e)}function $a(n,e){return Ze(n)?_a(n,e):ve(n)?ha(n,e):tn(n)?ya(n,e):E(n)?Ca(n,e):Un(n)?Ia(n,e):te(n)?xa(n,e):cn(n)?ba(n,e):Se(n)?Fa(n,e):Xe(n)?Ra(n,e):nt(n)?Sa(n,e):hr(n)?ga(n,e):n}function sn(n,e){return $a(Qe(n),Wc(e))}function Oa(n,e){if(F(n))throw new Error("Enum undefined or empty");const t=globalThis.Object.getOwnPropertyNames(n).filter(c=>isNaN(c)).map(c=>n[c]),o=[...new Set(t)].map(c=>N(c));return z(o,{...e,[be]:"Enum"})}class Aa extends ee{}var i;(function(n){n[n.Union=0]="Union",n[n.True=1]="True",n[n.False=2]="False"})(i||(i={}));function J(n){return n===i.False?n:i.True}function Gn(n){throw new Aa(n)}function A(n){return yn(n)||$n(n)||ln(n)||nn(n)||Z(n)}function w(n,e){return yn(e)?Zr():$n(e)?Ee(n,e):ln(e)?Ct(n,e):nn(e)?to():Z(e)?yt():Gn("StructuralRight")}function yt(n,e){return i.True}function wa(n,e){return $n(e)?Ee(n,e):ln(e)&&e.anyOf.some(t=>Z(t)||nn(t))?i.True:ln(e)?i.Union:nn(e)||Z(e)?i.True:i.Union}function Pa(n,e){return nn(n)?i.False:Z(n)?i.Union:yn(n)?i.True:i.False}function Na(n,e){return x(e)&&Be(e)?i.True:A(e)?w(n,e):Sn(e)?J(h(n.items,e.items)):i.False}function ja(n,e){return A(e)?w(n,e):it(e)?J(h(n.items,e.items)):i.False}function Ea(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):ge(e)?i.True:i.False}function Qr(n,e){return Sr(n)||gn(n)?i.True:i.False}function Ba(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):gn(e)?i.True:i.False}function La(n,e){return A(e)?w(n,e):x(e)?M(n,e):$e(e)?n.parameters.length>e.parameters.length?i.False:n.parameters.every((t,r)=>J(h(e.parameters[r],t))===i.True)?J(h(n.returns,e.returns)):i.False:i.False}function Ma(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):Oe(e)?i.True:i.False}function Ua(n,e){return A(e)?w(n,e):x(e)?M(n,e):Ae(e)?n.parameters.length>e.parameters.length?i.False:n.parameters.every((t,r)=>J(h(e.parameters[r],t))===i.True)?J(h(n.returns,e.returns)):i.False:i.False}function Xr(n,e){return hn(n)&&mn(n.const)||G(n)||pn(n)?i.True:i.False}function ka(n,e){return pn(e)||G(e)?i.True:A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):i.False}function Ee(n,e){return e.allOf.every(t=>h(n,t)===i.True)?i.True:i.False}function Ta(n,e){return n.allOf.some(t=>h(t,e)===i.True)?i.True:i.False}function Ga(n,e){return A(e)?w(n,e):ct(e)?J(h(n.items,e.items)):i.False}function Da(n,e){return hn(e)&&e.const===n.const?i.True:A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):v(e)?eo(n):G(e)?vr(n):pn(e)?Xr(n):gn(e)?Qr(n):i.False}function Zr(n,e){return i.False}function za(n,e){return i.True}function Jt(n){let[e,t]=[n,0];for(;Bn(e);)e=e.not,t+=1;return t%2===0?e:_t()}function Ya(n,e){return Bn(n)?h(Jt(n),e):Bn(e)?h(n,Jt(e)):Gn("Invalid fallthrough for Not")}function Va(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):st(e)?i.True:i.False}function vr(n,e){return Rr(n)||G(n)||pn(n)?i.True:i.False}function Ha(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):pn(e)||G(e)?i.True:i.False}function D(n,e){return Object.getOwnPropertyNames(n.properties).length===e}function Qt(n){return Be(n)}function Xt(n){return D(n,0)||D(n,1)&&"description"in n.properties&&ln(n.properties.description)&&n.properties.description.anyOf.length===2&&(v(n.properties.description.anyOf[0])&&bn(n.properties.description.anyOf[1])||v(n.properties.description.anyOf[1])&&bn(n.properties.description.anyOf[0]))}function Te(n){return D(n,0)}function Zt(n){return D(n,0)}function Ka(n){return D(n,0)}function qa(n){return D(n,0)}function Wa(n){return Be(n)}function Ja(n){const e=Tn();return D(n,0)||D(n,1)&&"length"in n.properties&&J(h(n.properties.length,e))===i.True}function Qa(n){return D(n,0)}function Be(n){const e=Tn();return D(n,0)||D(n,1)&&"length"in n.properties&&J(h(n.properties.length,e))===i.True}function Xa(n){const e=Ne([Qn()],Qn());return D(n,0)||D(n,1)&&"then"in n.properties&&J(h(n.properties.then,e))===i.True}function no(n,e){return h(n,e)===i.False||he(n)&&!he(e)?i.False:i.True}function M(n,e){return nn(n)?i.False:Z(n)?i.Union:yn(n)||Fr(n)&&Qt(e)||Rr(n)&&Te(e)||Sr(n)&&Zt(e)||Kn(n)&&Xt(e)||ge(n)&&Ka(e)||v(n)&&Qt(e)||Kn(n)&&Xt(e)||G(n)&&Te(e)||pn(n)&&Te(e)||gn(n)&&Zt(e)||ie(n)&&Wa(e)||Oe(n)&&qa(e)||$e(n)&&Qa(e)||Ae(n)&&Ja(e)?i.True:j(n)&&v(He(n))?e[be]==="Record"?i.True:i.False:j(n)&&G(He(n))?D(e,0)?i.True:i.False:i.False}function Za(n,e){return A(e)?w(n,e):j(e)?Q(n,e):x(e)?(()=>{for(const t of Object.getOwnPropertyNames(e.properties)){if(!(t in n.properties)&&!he(e.properties[t]))return i.False;if(he(e.properties[t]))return i.True;if(no(n.properties[t],e.properties[t])===i.False)return i.False}return i.True})():i.False}function va(n,e){return A(e)?w(n,e):x(e)&&Xa(e)?i.True:ut(e)?J(h(n.item,e.item)):i.False}function He(n){return Wn in n.patternProperties?Tn():Jn in n.patternProperties?vn():Gn("Unknown record key pattern")}function Ke(n){return Wn in n.patternProperties?n.patternProperties[Wn]:Jn in n.patternProperties?n.patternProperties[Jn]:Gn("Unable to get record value schema")}function Q(n,e){const[t,r]=[He(e),Ke(e)];return Fr(n)&&G(t)&&J(h(n,r))===i.True?i.True:ie(n)&&G(t)||v(n)&&G(t)||Sn(n)&&G(t)?h(n,r):x(n)?(()=>{for(const o of Object.getOwnPropertyNames(n.properties))if(no(r,n.properties[o])===i.False)return i.False;return i.True})():i.False}function nl(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?h(Ke(n),Ke(e)):i.False}function el(n,e){const t=Hn(n)?vn():n,r=Hn(e)?vn():e;return h(t,r)}function eo(n,e){return hn(n)&&O(n.const)||v(n)?i.True:i.False}function tl(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):v(e)?i.True:i.False}function rl(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):Kn(e)?i.True:i.False}function ol(n,e){return qn(n)?h(ye(n),e):qn(e)?h(n,ye(e)):Gn("Invalid fallthrough for TemplateLiteral")}function il(n,e){return Sn(e)&&n.items!==void 0&&n.items.every(t=>h(t,e.items)===i.True)}function cl(n,e){return yn(n)?i.True:nn(n)?i.False:Z(n)?i.Union:i.False}function sl(n,e){return A(e)?w(n,e):x(e)&&Be(e)||Sn(e)&&il(n,e)?i.True:we(e)?F(n.items)&&!F(e.items)||!F(n.items)&&F(e.items)?i.False:F(n.items)&&!F(e.items)||n.items.every((t,r)=>h(t,e.items[r])===i.True)?i.True:i.False:i.False}function ul(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):ie(e)?i.True:i.False}function al(n,e){return A(e)?w(n,e):x(e)?M(n,e):j(e)?Q(n,e):Pe(e)?fl(n):bn(e)?i.True:i.False}function Ct(n,e){return e.anyOf.some(t=>h(n,t)===i.True)?i.True:i.False}function ll(n,e){return n.anyOf.every(t=>h(t,e)===i.True)?i.True:i.False}function to(n,e){return i.True}function pl(n,e){return yn(e)?Zr():$n(e)?Ee(n,e):ln(e)?Ct(n,e):Z(e)?yt():v(e)?eo(n):G(e)?vr(n):pn(e)?Xr(n):gn(e)?Qr(n):Sn(e)?Pa(n):we(e)?cl(n):x(e)?M(n,e):nn(e)?i.True:i.False}function fl(n,e){return bn(n)||bn(n)?i.True:i.False}function dl(n,e){return $n(e)?Ee(n,e):ln(e)?Ct(n,e):nn(e)?to():Z(e)?yt():x(e)?M(n,e):Pe(e)?i.True:i.False}function h(n,e){return qn(n)||qn(e)?ol(n,e):Hn(n)||Hn(e)?el(n,e):Bn(n)||Bn(e)?Ya(n,e):Z(n)?wa(n,e):Sn(n)?Na(n,e):ge(n)?Ea(n,e):gn(n)?Ba(n,e):it(n)?ja(n,e):$e(n)?La(n,e):Oe(n)?Ma(n,e):Ae(n)?Ua(n,e):pn(n)?ka(n,e):$n(n)?Ta(n,e):ct(n)?Ga(n,e):hn(n)?Da(n,e):yn(n)?za():st(n)?Va(n,e):G(n)?Ha(n,e):x(n)?Za(n,e):j(n)?nl(n,e):v(n)?tl(n,e):Kn(n)?rl(n,e):we(n)?sl(n,e):ut(n)?va(n,e):ie(n)?ul(n,e):bn(n)?al(n,e):ln(n)?ll(n,e):nn(n)?pl(n,e):Pe(n)?dl(n,e):Gn(`Unknown left type operand '${n[l]}'`)}function ue(n,e){return h(n,e)}function ml(n,e,t,r,o){const c={};for(const s of globalThis.Object.getOwnPropertyNames(n))c[s]=It(n[s],e,t,r,V(o));return c}function _l(n,e,t,r,o){return ml(n.properties,e,t,r,o)}function hl(n,e,t,r,o){const c=_l(n,e,t,r,o);return B(c)}function yl(n,e,t,r){const o=ue(n,e);return o===i.Union?z([t,r]):o===i.True?t:r}function It(n,e,t,r,o){return H(n)?hl(n,e,t,r,o):Fn(n)?a(bl(n,e,t,r,o)):a(yl(n,e,t,r),o)}function Cl(n,e,t,r,o){return{[n]:It(N(n),e,t,r,V(o))}}function Il(n,e,t,r,o){return n.reduce((c,s)=>({...c,...Cl(s,e,t,r,o)}),{})}function xl(n,e,t,r,o){return Il(n.keys,e,t,r,o)}function bl(n,e,t,r,o){const c=xl(n,e,t,r,o);return B(c)}function Fl(n,e){return xt(ye(n),e)}function Rl(n,e){const t=n.filter(r=>ue(r,e)===i.False);return t.length===1?t[0]:z(t)}function xt(n,e,t={}){return Rn(n)?a(Fl(n,e),t):H(n)?a($l(n,e),t):a(E(n)?Rl(n.anyOf,e):ue(n,e)!==i.False?K():n,t)}function Sl(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=xt(n[r],e);return t}function gl(n,e){return Sl(n.properties,e)}function $l(n,e){const t=gl(n,e);return B(t)}function Ol(n,e){return bt(ye(n),e)}function Al(n,e){const t=n.filter(r=>ue(r,e)!==i.False);return t.length===1?t[0]:z(t)}function bt(n,e,t){return Rn(n)?a(Ol(n,e),t):H(n)?a(Nl(n,e),t):a(E(n)?Al(n.anyOf,e):ue(n,e)!==i.False?n:K(),t)}function wl(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=bt(n[r],e);return t}function Pl(n,e){return wl(n.properties,e)}function Nl(n,e){const t=Pl(n,e);return B(t)}function jl(n,e){return a(n.returns,e)}function El(n){return a({[l]:"Integer",type:"integer"},n)}function Bl(n,e,t){return{[n]:Dn(N(n),e,V(t))}}function Ll(n,e,t){return n.reduce((o,c)=>({...o,...Bl(c,e,t)}),{})}function Ml(n,e,t){return Ll(n.keys,e,t)}function Ul(n,e,t){const r=Ml(n,e,t);return B(r)}function kl(n){const[e,t]=[n.slice(0,1),n.slice(1)];return[e.toLowerCase(),t].join("")}function Tl(n){const[e,t]=[n.slice(0,1),n.slice(1)];return[e.toUpperCase(),t].join("")}function Gl(n){return n.toUpperCase()}function Dl(n){return n.toLowerCase()}function zl(n,e,t){const r=lt(n.pattern);if(!Zn(r))return{...n,pattern:ro(n.pattern,e)};const s=[...je(r)].map(_=>N(_)),p=oo(s,e),I=z(p);return Br([I],t)}function ro(n,e){return typeof n=="string"?e==="Uncapitalize"?kl(n):e==="Capitalize"?Tl(n):e==="Uppercase"?Gl(n):e==="Lowercase"?Dl(n):n:n.toString()}function oo(n,e){return n.map(t=>Dn(t,e))}function Dn(n,e,t={}){return Fn(n)?Ul(n,e,t):Rn(n)?zl(n,e,t):E(n)?z(oo(n.anyOf,e),t):re(n)?N(ro(n.const,e),t):a(n,t)}function Yl(n,e={}){return Dn(n,"Capitalize",e)}function Vl(n,e={}){return Dn(n,"Lowercase",e)}function Hl(n,e={}){return Dn(n,"Uncapitalize",e)}function Kl(n,e={}){return Dn(n,"Uppercase",e)}function ql(n,e){return a({[l]:"Not",not:n},e)}function Wl(n,e,t){const r={};for(const o of globalThis.Object.getOwnPropertyNames(n))r[o]=Rt(n[o],e,V(t));return r}function Jl(n,e,t){return Wl(n.properties,e,t)}function Ql(n,e,t){const r=Jl(n,e,t);return B(r)}function Xl(n,e){return n.map(t=>Ft(t,e))}function Zl(n,e){return n.map(t=>Ft(t,e))}function vl(n,e){const{[e]:t,...r}=n;return r}function np(n,e){return e.reduce((t,r)=>vl(t,r),n)}function ep(n,e){const t=W(n,[rn,"$id","required","properties"]),r=np(n.properties,e);return k(r,t)}function Ft(n,e){return tn(n)?wn(Xl(n.allOf,e)):E(n)?z(Zl(n.anyOf,e)):cn(n)?ep(n,e):k({})}function Rt(n,e,t){if(Fn(e))return ip(n,e,t);if(H(n))return Ql(n,e,t);const r=En(e)?Cn(e):e;return a({...Ft(n,r),...t})}function tp(n,e,t){return{[e]:Rt(n,[e],V(t))}}function rp(n,e,t){return e.reduce((r,o)=>({...r,...tp(n,o,t)}),{})}function op(n,e,t){return rp(n,e.keys,t)}function ip(n,e,t){const r=op(n,e,t);return B(r)}function cp(n,e){return ce(n.parameters,e)}function vt(n){return n.map(e=>io(e))}function sp(n){const e={};for(const t of globalThis.Object.getOwnPropertyNames(n))e[t]=An(n[t]);return e}function up(n){const e=W(n,[rn,"$id","required","properties"]),t=sp(n.properties);return k(t,e)}function io(n){return tn(n)?wn(vt(n.allOf)):E(n)?z(vt(n.anyOf)):cn(n)?up(n):k({})}function co(n,e){return H(n)?pp(n,e):a({...io(n),...e})}function ap(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=co(n[r],V(e));return t}function lp(n,e){return ap(n.properties,e)}function pp(n,e){const t=lp(n,e);return B(t)}function fp(n,e,t){const r={};for(const o of globalThis.Object.getOwnPropertyNames(n))r[o]=gt(n[o],e,V(t));return r}function dp(n,e,t){return fp(n.properties,e,t)}function mp(n,e,t){const r=dp(n,e,t);return B(r)}function _p(n,e){return n.map(t=>St(t,e))}function hp(n,e){return n.map(t=>St(t,e))}function yp(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function Cp(n,e){const t=W(n,[rn,"$id","required","properties"]),r=yp(n.properties,e);return k(r,t)}function St(n,e){return tn(n)?wn(_p(n.allOf,e)):E(n)?z(hp(n.anyOf,e)):cn(n)?Cp(n,e):k({})}function gt(n,e,t){if(Fn(e))return Fp(n,e,t);if(H(n))return mp(n,e,t);const r=En(e)?Cn(e):e;return a({...St(n,r),...t})}function Ip(n,e,t){return{[e]:gt(n,[e],V(t))}}function xp(n,e,t){return e.reduce((r,o)=>({...r,...Ip(n,o,t)}),{})}function bp(n,e,t){return xp(n,e.keys,t)}function Fp(n,e,t){const r=bp(n,e,t);return B(r)}function Rp(n){return On(An(n))}function Pn(n,e,t){return a({[l]:"Record",type:"object",patternProperties:{[n]:e}},t)}function $t(n,e,t){const r={};for(const o of n)r[o]=e;return k(r,{...t,[be]:"Record"})}function Sp(n,e,t){return Ws(n)?$t(Cn(n),e,t):Pn(n.pattern,e,t)}function gp(n,e,t){return $t(Cn(z(n)),e,t)}function $p(n,e,t){return $t([n.toString()],e,t)}function Op(n,e,t){return Pn(n.source,e,t)}function Ap(n,e,t){const r=F(n.pattern)?Jn:n.pattern;return Pn(r,e,t)}function wp(n,e,t){return Pn(Jn,e,t)}function Pp(n,e,t){return Pn($s,e,t)}function Np(n,e,t){return Pn(Wn,e,t)}function jp(n,e,t){return Pn(Wn,e,t)}function Ep(n,e,t={}){return E(n)?gp(n.anyOf,e,t):Rn(n)?Sp(n,e,t):re(n)?$p(n.const,e,t):Fe(n)?Np(n,e,t):Re(n)?jp(n,e,t):yr(n)?Op(n,e,t):et(n)?Ap(n,e,t):fr(n)?wp(n,e,t):oe(n)?Pp(n,e,t):K(t)}let Bp=0;function Lp(n,e={}){F(e.$id)&&(e.$id=`T${Bp++}`);const t=Qe(n({[l]:"This",$ref:`${e.$id}`}));return t.$id=e.$id,a({[be]:"Recursive",...t},e)}function Mp(n,e){if(O(n))return a({[l]:"Ref",$ref:n},e);if(F(n.$id))throw new Error("Reference target type must specify an $id");return a({[l]:"Ref",$ref:n.$id},e)}function Up(n,e){const t=O(n)?new globalThis.RegExp(n):n;return a({[l]:"RegExp",type:"RegExp",source:t.source,flags:t.flags},e)}function nr(n){return n.map(e=>so(e))}function kp(n){const e={};for(const t of globalThis.Object.getOwnPropertyNames(n))e[t]=W(n[t],[_n]);return e}function Tp(n){const e=W(n,[rn,"$id","required","properties"]),t=kp(n.properties);return k(t,e)}function so(n){return tn(n)?wn(nr(n.allOf)):E(n)?z(nr(n.anyOf)):cn(n)?Tp(n):k({})}function uo(n,e){return H(n)?zp(n,e):a({...so(n),...e})}function Gp(n,e){const t={};for(const r of globalThis.Object.getOwnPropertyNames(n))t[r]=uo(n[r],e);return t}function Dp(n,e){return Gp(n.properties,e)}function zp(n,e){const t=Dp(n,e);return B(t)}function Yp(n){return tn(n)?n.allOf:E(n)?n.anyOf:Un(n)?n.items??[]:[]}function Vp(n){return Yp(n)}function Hp(n,e){return a(n.returns,e)}function Kp(n){return JSON.parse(JSON.stringify(n))}class qp{constructor(e){this.schema=e}Decode(e){return new Wp(this.schema,e)}}class Wp{constructor(e,t){this.schema=e,this.decode=t}EncodeTransform(e,t){const c={Encode:s=>t[rn].Encode(e(s)),Decode:s=>this.decode(t[rn].Decode(s))};return{...t,[rn]:c}}EncodeSchema(e,t){const r={Decode:this.decode,Encode:e};return{...t,[rn]:r}}Encode(e){return tt(this.schema)?this.EncodeTransform(e,this.schema):this.EncodeSchema(e,this.schema)}}function Jp(n){return new qp(n)}function Qp(n={}){return a({[l]:n[l]??"Unsafe"},n)}function Xp(n){return a({[l]:"Void",type:"void"},n)}const Zp=Object.freeze(Object.defineProperty({__proto__:null,Any:Qn,Array:$r,AsyncIterator:Or,Awaited:Wu,BigInt:pt,Boolean:jr,Capitalize:Yl,Composite:aa,Const:fa,Constructor:Ar,ConstructorParameters:da,Date:Hr,Deref:sn,Enum:Oa,Exclude:xt,Extends:It,Extract:bt,Function:Ne,Index:ft,InstanceType:jl,Integer:El,Intersect:wn,Iterator:kr,KeyOf:Vr,Literal:N,Lowercase:Vl,Mapped:Lu,Never:K,Not:ql,Null:Kr,Number:Tn,Object:k,Omit:Rt,Optional:An,Parameters:cp,Partial:co,Pick:gt,Promise:Tr,Readonly:On,ReadonlyOptional:Rp,Record:Ep,Recursive:Lp,Ref:Mp,RegExp:Up,Required:uo,Rest:Vp,ReturnType:Hp,Strict:Kp,String:vn,Symbol:qr,TemplateLiteral:Br,Transform:Jp,Tuple:ce,Uint8Array:Jr,Uncapitalize:Hl,Undefined:Wr,Union:z,Unknown:_t,Unsafe:Qp,Uppercase:Kl,Void:Xp},Symbol.toStringTag,{value:"Module"})),f=Zp;f.Object({user:f.Object({id:f.Number(),fullName:f.String(),avatar:f.String()}),stickers:f.Array(f.Object({id:f.Number(),title:f.String(),description:f.String(),author:f.String(),thumbs:f.Array(f.Number()),price:f.Number(),url:f.String(),demoPhotosCount:f.Number(),styles:f.Array(f.Number()),previews:f.Array(f.Tuple([f.Number(),f.Number()])),hasBackground:f.Boolean(),isAnimated:f.Boolean(),isNotAvailable:f.Boolean()})),totalPrice:f.Number(),accessKey:f.String()});const vp=f.Object({type:f.Literal("background")}),nf=f.Object({type:f.Literal("thumb"),size:f.String()}),ef=f.Object({type:f.Literal("preview"),width:f.String(),height:f.String()}),tf=f.Object({type:f.Literal("demo_photo"),index:f.String()});f.Union([vp,nf,ef,tf]);const rf=({accessKey:n,packId:e,type:t,isDevServer:r})=>{const o=`${r?Tt.links.api.dev:Tt.links.api.prod}/stickers/static/${e}`,c=new URLSearchParams({accessKey:n,...t});return o+`?${c.toString()}`},of=({pack:n,accessKey:e,isDevServer:t})=>{const[r,o]=R.useState(!1),[c,s]=R.useState(null);return R.useEffect(()=>{if(n.thumbs.length===0)return;const p=(_,S)=>{let b=_[0];for(let T=1;T<_.length;++T)Math.abs(_[T]-S)<Math.abs(b-S)&&(b=_[T]);return b},I=rf({accessKey:e,packId:n.id,type:{type:"thumb",size:p(n.thumbs,70).toString()},isDevServer:t});Eo.get(I,{responseType:"arraybuffer"}).then(_=>{if("error"in _.data)return;const S=btoa(String.fromCharCode(...new Uint8Array(_.data)));s(`data:image/jpeg;charset=utf-8;base64,${S}`)})},[n.thumbs]),u.jsxs(xn,{open:r,onToggle:p=>{"open"in p.target&&o(!!p.target.open&&!r)},children:[u.jsx(xn.Summary,{multiline:!0,children:n.title}),u.jsx(sr,{before:c===null?n.isAnimated?u.jsx(Bo,{width:70,height:70}):u.jsx(Lo,{width:70,height:70}):u.jsx("img",{src:c}),multiline:!0,disabled:!0,caption:`Автор: ${n.author}`,actions:u.jsx(ni,{mode:"horizontal",gap:"s",stretched:!0,children:u.jsx(de,{mode:"primary",size:"s",onClick:()=>cr.web.redirect(n.url),children:"Открыть в ВКонтакте"})}),children:n.description})]})},uf=({stickers:n,accessKey:e,isDevServer:t})=>{const[r,o]=R.useState(""),c=R.useMemo(()=>{const _=r.toLowerCase();return n.filter(({author:S,description:b,title:T})=>!!(S.toLowerCase().includes(_)||b.toLowerCase().includes(_)||T.toLowerCase().includes(_)))},[r]),[s,p]=R.useState([]),I=()=>{p(c.slice(0,s.length+10))};return R.useEffect(()=>{p(c.slice(0,10))},[c]),u.jsxs(Po,{children:[u.jsx(Cc,{value:r,onChange:_=>o(_.target.value)}),u.jsxs(Uc,{dataLength:s.length,next:I,hasMore:s.length!==c.length,loader:u.jsx(Gt,{noPadding:!0,children:u.jsx(No,{size:"large"})}),scrollThreshold:.5,endMessage:u.jsxs(Gi,{children:[c.length," ",cr.string.declOfNum(c.length,["пак","пака","паков"])]}),children:[s.map((_,S)=>u.jsx(of,{pack:_,accessKey:e,isDevServer:t},`sticker-${S}`)),s.length!==c.length&&u.jsxs(u.Fragment,{children:[u.jsx(jo,{size:40}),u.jsx(Gt,{noPadding:!0,action:u.jsx(de,{size:"l",onClick:I,children:"Следующие"})})]})]})]})};export{uf as default};
